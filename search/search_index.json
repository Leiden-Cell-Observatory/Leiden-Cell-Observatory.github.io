{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Leiden Cell Observatory Wiki","text":"<p>Welcome to the Leiden Cell Observatory \u2014 the advanced microscopy facility of Leiden University.</p> <p>This wiki provides documentation for the Leiden Cell Observatory's microscopy systems, image analysis workflows, and data management infrastructure using OMERO.</p> <p>For general facility information, visit our main website: Leiden Cell Observatory</p>"},{"location":"#what-you-can-find-here","title":"What you can find here","text":"<ul> <li> <p>Microscopes \u2014 Technical specifications, applications, usage guidelines, and booking procedures for our microscopy systems.</p> </li> <li> <p>Image Analysis \u2014 Analysis workflows, software tools, best practices for microscopy data.</p> </li> <li> <p>OMERO \u2014 Documentation on our OMERO infrastructure for organizing, storing, and sharing microscopy data.</p> </li> <li> <p>Publishing &amp; Data Sharing \u2014 Guidance on publishing microscopy data to public repositories, metadata standards, and how to cite the Cell Observatory in your publications.</p> </li> <li> <p>Resources \u2014 Training materials, software tools, and additional learning resources.</p> </li> </ul>"},{"location":"#getting-support","title":"Getting support","text":"<p>Contact us</p> <p>Need help selecting the right microscopy system or support with image analysis and data management? </p> <p>Contact the facility staff: Contact information</p> <p>General enquiries: cellobservatory@biology.leidenuniv.nl</p>"},{"location":"contact/","title":"Contact","text":""},{"location":"contact/#facility-managers","title":"Facility Managers","text":"<ul> <li> <p> Sylvia Le D\u00e9v\u00e9dec (LACDR) - Profile s.e.ledevedec@lacdr.leidenuniv.nl</p> </li> <li> <p> Joost Willemse (IBL) - Profile jwillemse@biology.leidenuniv.nl</p> </li> <li> <p> Amit Cherian (LIC) - Profile a.cherian@lic.leidenuniv.nl</p> </li> </ul>"},{"location":"contact/#operators","title":"Operators","text":"<ul> <li> <p> Bas Laan (IBL) - Profile s.n.j.laan@biology.leidenuniv.nl</p> </li> <li> <p> Kostas Tassis (LACDR) - Profile k.tassis@lacdr.leidenuniv.nl</p> </li> </ul>"},{"location":"contact/#omeroimage-analysis-support","title":"OMERO/Image Analysis support","text":"<ul> <li> Maarten Paul - Profile m.w.paul@lacdr.leidenuniv.nl m.w.paul@lumc.nl</li> </ul>"},{"location":"contact/#more-info","title":"More info","text":"<p>For general questions, feel free to reach out to the appropriate contact listed above.   For more information visit the Leiden Cell Observatory - Our People page.</p>"},{"location":"contact/#other-organizations","title":"Other organizations","text":"<p>We are part of the Dutch and European microscopy infrastructure:   </p> <ul> <li>  NL-BioImaging</li> <li>  Microscopy.nl</li> <li>  Euro-BioImaging</li> </ul>"},{"location":"contributing/","title":"Contributing","text":"<p>This wiki is for all of us, so if you think something is missing, feel free to contribute!</p> <p>For people at Leiden University you can join the Cell Observatory Github organization. Reach out to @maartenpaul or m.w.paul@lacdr.leidenuniv.nl, to get direct access to contribute to the wiki directly. </p> <p>Or if you prefer can you post your contribution on the Cell Observatory MS Teams website and it will be added here .</p>"},{"location":"resources/","title":"Learning Resources","text":"<p>This section provides a curated collection of external resources for bioimage analysis, training materials, and useful tools.</p>"},{"location":"resources/#image-analysis-resources","title":"Image Analysis Resources","text":""},{"location":"resources/#software-and-tools-collections","title":"Software and Tools Collections","text":"<ul> <li>Awesome Biological Image Analysis - A comprehensive list of software, tools, pipelines, and plugins for biological image analysis</li> </ul>"},{"location":"resources/#learning-materials","title":"Learning Materials","text":"<ul> <li>BiA-PoL blog - Blog with examples of image analysis pipelines</li> <li>Introduction to Bioimage Analysis - Comprehensive guide to bioimage analysis</li> <li>Image analysis with Python - Data Carpentry lessons on image processing with Python</li> <li>Bio-image Analysis Notebooks - Interactive notebooks for learning bioimage analysis</li> </ul>"},{"location":"resources/#training-videos-and-courses","title":"Training Videos and Courses","text":"<ul> <li>COBA: Center for Open Bioimage Analysis - Video tutorials on CellProfiler and image analysis</li> <li>Virtual I2K 2024 - Workshops on different image analysis tools</li> <li>GloBIAS -  YouTube channel of GloBIAS, the Global BioImage Analysts\u2019 Society</li> <li>Euro-BioImaging</li> <li>Crick BioImage Analysis Symposium</li> </ul>"},{"location":"resources/#online-resources","title":"Online Resources","text":"<ul> <li>Image analysis forum Image.sc</li> <li>Dutch Microscopy society - NVvM</li> </ul>"},{"location":"resources/#conferences-and-events","title":"Conferences and Events","text":""},{"location":"resources/#conference-events-resources","title":"Conference Events Resources","text":"<ul> <li>ELMI Conference Database - Database with microscopy conferences</li> </ul>"},{"location":"analysis/","title":"Image Analysis","text":"<p>The Cell Observatory provides access to various image analysis tools and workflows. This section covers different software packages and approaches for analyzing microscopy data.</p>"},{"location":"analysis/#available-tools","title":"Available Tools","text":"<ul> <li>CellPose - Deep learning-based cell segmentation</li> <li>CellProfiler - Pipeline-based image analysis</li> <li>Fiji - ImageJ-based analysis platform</li> <li>Ilastik - Interactive machine learning for image analysis</li> <li>Micro-SAM - Segment Anything Model for microscopy</li> <li>TrackMate - Object tracking in Fiji</li> </ul>"},{"location":"analysis/#environment-setup","title":"Environment Setup","text":"<p>For Python-based tools, see our guide on setting up your Conda environment.</p>"},{"location":"analysis/#version-control","title":"Version Control","text":"<p>Learn about using GitHub for managing your analysis scripts and workflows.</p>"},{"location":"analysis/Fiji/","title":"Fiji","text":"<p>Your content here</p>"},{"location":"analysis/Fiji/#writing-fiji-macros","title":"writing Fiji macros","text":"<p>writing your first macros's record your steps via recorder check reference here. for all functions</p>"},{"location":"analysis/Fiji/#writing-more-advanced-scripts","title":"writing more advanced scripts","text":"<p>Using Jython, Groovy or Beanshell more complex scripts can be written.</p>"},{"location":"analysis/Fiji/#maintaining-your-scripts","title":"maintaining your scripts","text":"<p>see GitHub page for info</p>"},{"location":"analysis/Trackmate/","title":"TrackMate","text":"<p>https://imagej.net/plugins/trackmate/ Getting started: https://imagej.net/plugins/trackmate/tutorials/getting-started</p> <p>Fiji plugin to track objects e.g. cells, foci or single-molecules.</p> <p>Basically consists of two steps. First segmentation/detection of objects then apply a tracking algorithm on this.</p> <p>Segmentation of objects can be done through different methods e.g. spot detector, on a binary image, Stardist (nuclei), Cellpose, ilastik. For tracking also different algorithms are available.</p> <p>Scriptable in Fiji. https://imagej.net/plugins/trackmate/scripting/scripting</p> <p>Also tools available to apply same analysis on multiple images without writing a script. Trackmate batcher: https://forum.image.sc/t/new-version-of-the-trackmate-helper-v1-2-1-with-a-batcher-and-the-spt-metrics/68180</p>"},{"location":"analysis/Trackmate/#saving-trackmate-projects","title":"Saving TrackMate projects","text":"<ul> <li>TrackMate results can be saved as XML files containing all tracking data</li> <li>You can open this again in Fiji via Plugins-&gt;Tracking-&gt;Load a TrackMate file</li> <li>Trick for projecting tracks onto a different image: You can open the XML file in a text editor, then search for the image filename reference and modify it</li> </ul>"},{"location":"analysis/Trackmate/#key-points-to-discuss","title":"Key points to discuss:","text":"<ul> <li>Integration with OMERO: How to store and retrieve TrackMate results in OMERO</li> <li>Batch processing: Methods for applying the same tracking parameters across multiple images</li> <li>Script examples: Basic Jython/Groovy scripts for automating TrackMate analysis</li> <li>Export options: Different ways to export tracking results (CSV, ROIs, visualizations)</li> <li>TrackMate parameters: Explanation of key tracking settings and when to adjust them</li> </ul>"},{"location":"analysis/cellpose/","title":"Cellpose","text":"<p>Cellpose is a generalist deep learning model for cellular segmentation.  - It can be used via a GUI, in Python or via command line. Also an Fiji plugin is available that can connect to Cellpose to obtain segmentations directly in Fiji.  - Cellpose can be used to segment cells, nuclei, and other objects in 2D (and 3D) images.  - The latest version (Cellpose-SAM) works well on a variety of cell types and imaging modalities without the need for retraining. However, Cellpose also allows training of custom models.</p> <p>Cellpose documentation: https://cellpose.readthedocs.io/en/latest/</p> <p></p> <p>You can try the latest Cellpose version with one of your images here:(CellPose-SAM) online at HuggingFace</p>"},{"location":"analysis/cellpose/#installation","title":"Installation","text":""},{"location":"analysis/cellpose/#gui","title":"GUI","text":"<p>Cellpose has a GUI, which is running in Python, which allows you to load images, apply the models and visualize the results. Furthermore it has a build-in routine to fine tune the model by allowing you to manually correct annotations and use those annotations to improve the model for your data.</p> <ul> <li>It is recommended to run Cellpose with GPU (CUDA) for better performance.   </li> <li>Installing Cellpose via the command line is necessary. It is best to use a package manager such as pixi or conda to install all dependencies.   </li> <li> <p>Read here to learn how to install conda on your computer first.   </p> </li> <li> <p>Then install Cellpose with GUI via conda:</p> </li> </ul> <pre><code>#create a new conda environment\nconda create -n cellpose   \n\n#activate the new environment\nconda activate cellpose   \n\n#install cellpose with GUI\npip install cellpose[gui]\n</code></pre> <p>Run the GUI via command line: <code>cellpose</code> . You need to activate the environment every time via <code>conda activate cellpose</code> </p> <ul> <li> <p>If you have a GPU with CUDA capabilities, pip will install the GPU enabled version of pytorch. Then CellPose should work with the GPU. You can check if your GPU is found when starting CellPose via the command line, and also in the GUI it is indicated when the GPU is used. Check here for troubleshooting.   </p> </li> <li> <p>If you have issues running CellPose on your own PC, please try to make use of one of the image analysis workstations available at the Cell Observatory. Or you can make use of a HPC with a remote desktop environment or setting up X-forwarding.   </p> </li> </ul>"},{"location":"analysis/cellpose/#fiji-plugin","title":"Fiji plugin","text":"<p>There is an cellpose plugin in Fiji which allows you to use Cellpose directly within the Fiji environment. However this requires a working installation of Cellpose (see instructions above) and its dependencies on your system. The plugin is part of the <code>PTBIOP</code> Fiji update site.  - In Fiji go to <code>Help &gt; Update</code>, click on <code>Manage Update Sites</code> and add the <code>PTBIOP</code> Fiji update site.  - After restarting Fiji it should be available at <code>Plugins &gt; BIOP &gt; Cellpose/Omnipose'.    - You will need to configure the plugin with the path to your Cellpose installation. With 'conda env list' in the terminal, you can find the path to your Cellpose environment. Then, set the path in the Fiji plugin configuration. - For the latest cellpose model you can set</code>cpsam<code>as the</code>--pretrained model`.</p> <p>Tip: If you want to convert the cellpose images to ROIs in Fiji you can use the same update site to run <code>Plugins &gt; BIOP &gt; Image Analysis &gt; ROIs &gt; Label Image to ROIs</code>.</p> <p>The update site: https://wiki-biop.epfl.ch/en/ipa/fiji/update-site More information about the plugin: https://github.com/BIOP/ijl-utilities-wrappers</p>"},{"location":"analysis/cellpose/#command-line","title":"Command line","text":"<p>If you want to process many images (e.g. in a folder), you can also use Cellpose via the command line. You can use the same installation as for the GUI. More information can be found here: Cellpose Command Line Interface</p>"},{"location":"analysis/cellpose/#run-cellpose-on-the-hpc","title":"Run cellpose on the HPC","text":"<p>If you want to run Cellpose GUI with a GPU you make use of the Alice cluster.  There are different ways to do this but one way is to setup a remote desktop session with RDP. Follow the  instructions on the Alice wiki here . You can use the MobaXterm application to make it easier to setup the connection.  What we will do is pull an singularity container image with cellpose. This assures all required tools are available.   </p> <ul> <li>Start a terminal.</li> </ul> <pre><code>#first ceate a folder to save the container image \n\nmkdir ~/data1/containers/cellpose\ncd ~/data1/containers/cellpose\n\n#create an interactive slurm job\nsalloc -p testing --gres=gpu:1\n\n#this is needed to find the online repository \napptainer remote add --no-login SylabsCloud cloud.sycloud.io\n\n# pull the image\nsingularity pull --arch amd64 library://ez82/cellpose/4.0.6:latest\n</code></pre> <p>Next you can start the container  <pre><code>singularity run --nv 4.0.6_latest.sif\n#now open cellpose\ncellpose\n#GUI opens \ud83d\ude00\n</code></pre> The next time you can just start a slurm job and run the singularity image .</p>"},{"location":"analysis/cellprofiler/","title":"CellProfiler","text":"<p>Getting started with CellProfiler: Tutorials </p>"},{"location":"analysis/cellprofiler/#installation","title":"Installation","text":"<p>You can get the lastest version of CellProfiler here  . Be aware that in some cases pipelines will only work with a specific version of CellProfiler so you can download specific versions here.</p>"},{"location":"analysis/cellprofiler/#cellprofiler-with-ai-tools-included","title":"CellProfiler with AI tools included:","text":"<p>Getting CellProfiler to work with AI tools for segmentation can be challenging. This an adjusted release of CellProfiler v4.2.8 with Stardist and Cellpose included. When you install this version on your computer it should work with these tools without the need of installing them separately.  </p> <p>You can find the installer files on Github </p>"},{"location":"analysis/conda/","title":"Conda for Python","text":"<p>Installing Python tools can be challenging. Especially tools that rely on GPU processing through pytorch or tensorflow can be tricky. Also installing all your different software packages in one environment will quickly cause problems. Hence setting up separate Python environments is the best solution. A package manager helps to do so. Conda is such tool, and recen</p>"},{"location":"analysis/conda/#pixi","title":"pixi","text":"<p>You can read more here how to set pixi up and how to install tools such as Cellpose, Stardist with GPU support.  https://github.com/Leiden-Cell-Observatory/AI_tools_pixi</p>"},{"location":"analysis/conda/#setting-up-conda-for-python","title":"Setting up conda for Python","text":""},{"location":"analysis/conda/#installation","title":"Installation","text":"<p>To be able to handle multiple Python software environments on a system use of conda is advised. Different software packages require different versions of Python and other dependencies. Conda allows to create isolated environments on your computer. It is recommended to always work within an conda environment and not in the base environment.</p> <p>A detailed instruction how to setup conda can be found here.</p> <p>https://biapol.github.io/blog/mara_lampert/getting_started_with_miniforge_and_python/readme.html#ref-miniforge-python</p>"},{"location":"analysis/github/","title":"Github","text":""},{"location":"analysis/github/#working-with-github","title":"Working with Git(hub)","text":"<p>Git is a version control system that allows you to keep track of changes in your code. It is especially useful when working in a team, but also when working alone it can be very helpful to keep track of changes you made to your code.</p> <p>Do you want to learn all the details on Git: https://git-scm.com/book/en/v2</p> <p>GitHub is a online platform that allows you to store your git repositories online. It is a great way to share your code with others, and to collaborate on code with others. It is possible to create private repositories that are only visible to you and the people you invite. Later when you are ready you can make your repository public.</p> <p>Useful tools: - Github Desktop     Although git can be used from the command line a visual overview of your repositories on your computer can be very helpful to keep overview of your repositories, local changes that are not yet committed to github. - VS code   - Visual Studio Code is a code editor that can be used with a wide variety of programming languages. It has many useful extensions, including a git extension that allows you to manage your git repositories from within the editor.</p>"},{"location":"analysis/github/#managing-your-fiji-scripts-with-github","title":"Managing your Fiji scripts with Github","text":"<ul> <li>Create a folder in you Fiji /scripts folder e.g. 'My-Scripts\"</li> <li>This folder will show up as a separate menu in Fiji</li> <li>Create a github repository at github.com e.g. name it \"My Fiji scripts\"</li> <li>Use github desktop or git command line ...</li> </ul>"},{"location":"analysis/github/#cell-observatory-github","title":"Cell Observatory Github","text":"<p>The Cell Observatory has its own  github.com/Leiden-Cell-Observatory</p>"},{"location":"analysis/ilastik/","title":"ilastik","text":"<p>Useful tool to that allows to quickly train a pixel and/or object classifier with sparse annotation on your images.</p> <p>Can be installed here:</p> <p>After training the model can be used in Fiji to apply to a large number of images in batch.  It can even be used in TrackMate to track segmented objects.</p> <p>Also can be combined with CellProfiler.</p>"},{"location":"analysis/micro-sam/","title":"Segmentation with micro-sam","text":"<p>Segment Anything for Microscopy or micro-sam is a tool to enable automatic and interactive segmentation of microscopy data. It is based on Segment Anything from Meta</p> <p>In order to use the micro-sam toolkit it is recommended to use a computer with a decent GPU.</p> <p>micro-sam can be use to interactively segment images (2D, 3D, time series) in napari. It can also be used to fine-tune the Segment Anything model to allow for automatic instance segmentation of your images.</p> <p></p>"},{"location":"analysis/micro-sam/#installation","title":"Installation","text":"<p>It is advised to install micro-sam in a conda environment. Check here to install conda.</p> <pre><code>conda env create --file environment.yml -n micro-sam\nconda install -c conda-forge micro_sam\n</code></pre> <p>To open the micro-sam plugins:</p> <pre><code>napari\n</code></pre>"},{"location":"analysis/micro-sam/#finetuning-a-model-for-automatic-segmentation","title":"finetuning a model for automatic segmentation","text":""},{"location":"analysis/napari/","title":"napari","text":"<p>napari is a fast, interactive, multi-dimensional image viewer for Python. It\u2019s designed for browsing, annotating, and analyzing large multi-dimensional images. </p>"},{"location":"analysis/napari/#installation","title":"Installation","text":"<p>To install napari, you can use conda:</p> <pre><code>conda install -c conda-forge napari\n</code></pre>"},{"location":"analysis/qupath/","title":"QuPath","text":""},{"location":"analysis/qupath/#installation","title":"Installation","text":"<p>You can find the latest version of QuPath here: qupath.github.io . For more details check the documentation.</p>"},{"location":"analysis/qupath/#usage","title":"Usage","text":"<p>QuPath has a intuitive user interface to work with large (2D) images. QuPath has a very clear documentation with for example tutorials on different applications.</p>"},{"location":"analysis/qupath/#extensions","title":"Extensions","text":"<p>QuPath also allows to install extensions. For example to use AI models for segmentation:      - InstanSeg      - Stardist      - Cellpose </p> <p>Another useful extension is the OMERO extension. This extension allows to load images from OMERO into your QuPath project . Find more details here .</p>"},{"location":"analysis/tool/","title":"What image analysis tool should I use?","text":""},{"location":"computing/","title":"Computing Resources","text":"<p>The Cell Observatory provides access to various computing resources to support your imaging and analysis workflows.</p>"},{"location":"computing/#available-resources","title":"Available Resources","text":"<ul> <li>High Performance Computing (HPC) - Access to the university's HPC cluster for intensive analysis tasks</li> <li>Workstations - Information about our local workstations and their capabilities</li> </ul>"},{"location":"computing/#when-to-use-what","title":"When to Use What","text":"<ul> <li> <p>Use local workstations for:</p> <ul> <li>Interactive analysis sessions</li> <li>Small to medium datasets</li> </ul> </li> <li> <p>Use HPC for:</p> <ul> <li>Large-scale batch processing</li> <li>Deep learning tasks</li> <li>Computing-intensive analysis pipelines</li> </ul> </li> </ul>"},{"location":"computing/hpc/","title":"High-Performance Computing (Alice)","text":"<p>This section covers the usage of the Alice HPC cluster for image analysis.</p>"},{"location":"computing/hpc/#overview","title":"Overview","text":"<p>The Alice cluster provides high-performance computing capabilities for more demanding image analysis tasks.</p> <p>More on Alice: Alice Wiki</p> <p>With Alice it is possible to connect to a desktop environment to run GUI applications like QuPath or Cellpose.  Furthermore it is possible to run containers via singularity or apptainer, this allows to run analysis tools in a contained environment. Some examples of container definitions for image analysis tools can be found here:   </p> <ul> <li>github.com/TheJacksonLaboratory/rit-imageanalysis-containers </li> <li>git.embl.org/grp-cbbcs/container-recipes </li> </ul>"},{"location":"computing/hpc/#alternatives","title":"Alternatives","text":"<p>At LUMC there is SHARK </p> <p>Furthermore SURF provides a national HPC with Snellius</p>"},{"location":"computing/workstations/","title":"Image Analysis Workstations","text":"<p>In case your image analysis requires more computing resources for example a dedicated GPU for AI-based image processing, we might be able to help.  At the Cell Observatory several image analysis workstations are available with dedicated GPUs.  Please reach out to the people of the Cell Observatory for advice.   </p>"},{"location":"courses/","title":"Training and courses","text":"<p>There are several training oportunities within the Cell Observatory.   </p>"},{"location":"courses/#training-options","title":"Training options","text":"<p>For training on a specific microscopes please contact the operators.</p>"},{"location":"courses/#courses","title":"Courses","text":"<ul> <li>BsC course Microscopy </li> <li>MsC course image analysis with applications in Microscopy </li> <li>PhD course microscopy</li> </ul>"},{"location":"courses/#external-microscopy-courses","title":"External microscopy courses","text":"<p>An overview of all microscopy education in the Netherlands is assembled by the NVvM and can be found here.   </p>"},{"location":"courses/#self-education","title":"Self-education","text":"<ul> <li>Zeiss Campus </li> <li>Nikon MicroscopyU </li> </ul>"},{"location":"courses/activities/","title":"Activities","text":""},{"location":"courses/activities/#upcoming-activities","title":"Upcoming activities","text":"<ul> <li>PhD Microscopy and Image analysis course 2026: dates and registration will be announced soon</li> <li>Every 1st Thursday of the month OMERO/image analysis walk-ins, drop by with all your questions!</li> </ul>"},{"location":"courses/activities/#past-activities","title":"Past activities","text":""},{"location":"courses/phd-course/","title":"PhD course","text":"<p>This is a yearly event where we move in one week from the physics of light through the composition of the microscope, fluorescence microscopy and end up with some image analysis. All the lectures are followed by practicals to really put your obtained knowledge into practice.</p>"},{"location":"courses/phd-course/#topics","title":"Topics","text":"<ul> <li>Physics of light   <ul> <li>Starting with how light is created and which properties of light play a role in microscopy</li> </ul> </li> <li>Microscope components   </li> <li>Kohler illumination   <ul> <li>The second step in the course is to know which components are in the microscope and how to set them up optimally</li> </ul> </li> <li>Histology and sample preparation   <ul> <li>In the 3rd lecture we move the focus to preparing our samples optimally and as simple as possible</li> </ul> </li> <li>Phase contrast   </li> <li>DIC   </li> <li>Dark field   <ul> <li>In the this lecture contrast enhancing techniques are discussed and how they work to improve your images, but also how to set it up properly within the microscope </li> </ul> </li> <li>Fluorescence microscopy   </li> <li>Confocal microscopy   </li> <li>Advanced fluorescence microscopy   <ul> <li>Moving from brightfield to fluorescence to show what fluorescence is capable off and how to apply it optimally</li> </ul> </li> <li>OMERO<ul> <li>Once we have obtained our images we need to store them in a FAIR manner, here we show the way to do this and the benefits of doing so</li> </ul> </li> <li>Image analysis   </li> <li>Automated image analysis   <ul> <li>On the last day of the course we focus on what we can do with the obtained images to extract quantifiable data. In the morning we learn how to do this manually in FIJI, in the afternoon we move to automated measurements, and recording of macros. </li> </ul> </li> </ul>"},{"location":"hcs/","title":"High-Content Screening","text":""},{"location":"hcs/protocol/","title":"HCS Image Analysis with CellProfiler","text":"<p>This protocol is based on CellProfiler version 4.2.5 in combination with the WMC (watershed masked clustering) or StarDist plugin in Fiji for segmentation of nuclei.</p> <p>Protocol Overview</p> <ol> <li>Extract images to folder as tiffs with standardised filenames (data_personalID_assayID_plateID)</li> <li>Generate loadData file using an R script</li> <li>Start CellProfiler, create LoadData module and import loaddata file (solve errors as they appear, CellProfiler sort of tells you what to do)</li> <li>Prepare analysis pipeline</li> <li>Add export to database module</li> <li>Run pipeline</li> <li>Extract data from database with an R script</li> <li>Wrangle data and plot in R</li> </ol>"},{"location":"hcs/protocol/#before-you-begin","title":"Before You Begin","text":"<p>Requirements</p> Software you needFiles you need <p>Check the ImageAnalysis-Software (lacdr-tox/ImageAnalysis-Software-WIP) GitHub repository for software installation instructions. This is currently a private repository. Request access if you do not have it yet.</p> <ol> <li>Fiji with StarDist and/or WMC plugins installed</li> <li>OME.insight - to upload data to OMERO</li> <li>NIS Elements Viewer - to convert ND2 to TIFFs</li> <li>CellProfiler (version 4.2.5)</li> <li>R and RStudio</li> </ol> <ol> <li><code>ND2</code> file with your images</li> <li>MIHCSME file (metadata file) - Read more here</li> </ol>"},{"location":"hcs/protocol/#step-1-fill-out-mihcsme-file","title":"Step 1: Fill Out MIHCSME File","text":"<ol> <li>Download the example MIHCSME file from the link above.</li> <li>Open the file in Excel or another spreadsheet program.</li> </ol>"},{"location":"hcs/protocol/#step-2-preparing-the-nd2-file-and-extracting-tiffs","title":"Step 2: Preparing the ND2 File and Extracting TIFFs","text":"<ol> <li>Manually inspect your images of positive and negative controls in the ND2 file.   </li> <li>Prepare the file structure:     - Create a new folder for your experiment and move the ND2 file into this folder.     - Change the ND2 file name to the following format:   </li> </ol> <p>File Naming Convention</p> <p>Format: <code>date_personalID_assayID_plateID</code></p> <ul> <li>date: from the original folder name   </li> <li>Personal ID: three initials   </li> <li>assayID: ID given to assay according to ISA standards (see MIHCSME) - three numbers preceded by 'a'   </li> <li>plateID: Number of your plate (plate01, plate02, etc. if you have only one plate use plate01)   </li> </ul> <p>Example:</p> <p>Original name:  - Folder name: <code>20200311_161054_731</code>  - ND2 file name: <code>Seq0000.nd2</code> </p> <p>New ND2 filename: <code>20200311_TDA_a002_plate01.nd2</code> </p> <ol> <li> <p>After you have renamed the file, import the ND2 file into OMERO following steps here: OMERO import instructions. Also attach the MIHCSME file to the <code>Plate</code> in OMERO.   </p> </li> <li> <p>Export ND2 file as TIFFs: </p> <ol> <li>Open the ND2 file in NIS Elements Viewer.</li> <li>Go to File &gt; Save/Export to TIFF Files.</li> <li>Select the output folder (the same as the input folder or browse the location of the original ND2 file).</li> <li>Select Subfolder: <code>&lt;User defined&gt;</code> TIFFs, Name: <code>&lt;Original name&gt;</code>.</li> <li>Choose Standard TIFF.</li> <li>Select Split to Multiple Files.</li> <li>Change dimensions to order <code>&lt;xy&gt; &lt;t&gt; &lt;c&gt;</code>.</li> <li>Use point Names and do not use channel Names. (example image is wrong)</li> <li>Only export to mono image for each channel.</li> <li>Do not apply LUTs.</li> <li>Click Export.</li> </ol> </li> </ol> <p>Files without time points:   Files with timepoints: (notice extra dimension)  </p>"},{"location":"hcs/protocol/#step-3-segmentation-of-nuclei","title":"Step 3: Segmentation of Nuclei","text":"<ol> <li>Segment nuclei using stardist macro in Fiji</li> <li>Open Fiji</li> <li>Open one Hoechst image in Fiji. (a TIFF of channel <code>C1</code>. Drag into Fiji window)</li> <li>Go to <code>Plugins &gt; stardist &gt; stardist 2D</code>.</li> <li>Run once. (check <code>normalize</code> box)</li> <li>Change settings if needed.</li> <li>Repeat step 2 and 4 until you are satisfied with the segmentation of the nuclei.</li> <li>Save the settings.</li> </ol> <ol> <li>Click Cancel and close the currently opened image.   </li> <li>Click <code>Plugins - Macros - Edit</code> and navigate to and open <code>stardist_Batch.ijm</code> - click <code>Run</code> </li> <li>Drag the folder containing images into <code>Select Image Files Folders</code>. Select Hoechst images and correct settings.       Hoechst is usually the first channel (C1), so for <code>filter by regExp</code> write: <code>.*C1.tif.*</code> (look up regular expression if you would like to know what this means exactly)</li> </ol> <p>File Selection</p> <p>This selects for all files containing <code>C1.tif</code> which will be your Hoechst images.</p> <p>(if C1 is not at the end of your filename, you used a different order of dimensions in step 4.g. You can fix this by extracting your images again with the correct order of dimensions or by writing another regExp here and by changing the regExp in the loaddata script in step 4.e)</p> <ol> <li>Check if your folder now contains segmented images.   </li> </ol>"},{"location":"hcs/protocol/#step-4-create-loaddata-file-using-in-house-r-script","title":"Step 4: Create LoadData File Using In-House R Script","text":"<p>After steps 2 and 3, you should have a folder named TIFFs containing all <code>.tif</code> images and <code>stardist_mask.png</code> images based on your Hoechst channel <code>.tifs</code>.</p> <p>Using an R script, extract useful data from the filenames and create a metadata file in Excel.   </p> <ol> <li>Create metadata file in Excel (if MIHCSME file was not already created in Step 1):<ol> <li>Open MIHCSME file (on github)</li> <li>Fill out as much assay related information as possible in first three sheets.</li> <li>Fill out assay conditions in sheet 4.</li> <li>Column names must contain:<ol> <li>Plate</li> <li>Well</li> </ol> </li> <li>Add columns relevant to your experiment:<ol> <li>Such as <code>Treatment</code></li> <li><code>Dose</code></li> </ol> </li> <li>Save file as <code>.xlsx</code> file   </li> </ol> </li> </ol> <p></p> <ol> <li> <p>Launch <code>Generate_LoadData_file.R</code></p> <ol> <li>Found on the github in folder <code>R_scripts</code> </li> </ol> </li> <li> <p>Fill in variables:</p> <ol> <li>path.TIFFS = the path to your <code>TIFFs</code> folder.    (for example C:\\Users\\You\\documents\\Experiment1\\CellLineX\\TIFFs)</li> <li>path.master = the path to your output folder.    Usually the one containing your nd2 file (C:\\Users\\You\\documents\\Experiment1\\CellLineX)</li> <li>Timepoints <code>Yes</code> or <code>No</code>. does your filename contain timepoint information (as seen in step 4)</li> <li>Image sets: enable lines with relevant imagetypes. Often:<ol> <li>ObjectsFileName_mask</li> <li>Image_FileName_image_hoechst</li> <li>Image_FileName_image_pi</li> <li>Image_FileName_image_gfp</li> </ol> </li> <li>Scroll down and enter path to filled out MIHCSME file</li> <li>Change name of EXPID-PLACEHOLDER to experiment ID</li> <li>Run whole script</li> <li>(Fix errors where necessary)</li> </ol> </li> </ol>"},{"location":"hcs/protocol/#step-5-run-cellprofiler-analysis","title":"Step 5: Run CellProfiler Analysis","text":"<ol> <li> <p>Pipeline requirements:</p> <ul> <li>LoadData module</li> <li>ExportToDatabase module</li> </ul> </li> <li> <p>Configure LoadData module:</p> <ol> <li>Refer to file created in step 4 (input file location)</li> <li>Load images based on his data? YES</li> <li>Refer to TIFFs folder for base image location.</li> </ol> </li> </ol> <p></p> <ol> <li> <p>Design your own pipeline after LoadData.    You can refer to the sop of your colleagues.</p> </li> <li> <p>End pipeline with ExportToDatabase module</p> </li> <li> <p>Create database:</p> <ol> <li>Launch mySQL workbench</li> <li>Create database in query by running command <code>CREATE DATABASE databaseName;</code></li> <li>(when necessary delete database with <code>DROP DATABASE databaseName;</code>)</li> </ol> </li> </ol> <p></p> <ol> <li>Connect CellProfiler to database:<ol> <li>Database type = MySQL</li> <li>Experiment name = whatever you want</li> <li>Database name = the name you chose for the database when using <code>CREATE DATABASE</code></li> <li>Database host = localhost</li> <li>username = yourname</li> <li>Password = your password</li> <li>Test connection.    (if connection failed check your previously entered info)</li> <li>Calculate per image mean, median and standard deviation.</li> </ol> </li> </ol> <p></p> <ol> <li>Run pipeline</li> </ol>"},{"location":"hcs/protocol/#step-6-retrieve-data-from-mysql-server","title":"Step 6: Retrieve Data from MySQL Server","text":"<p>After running CellProfiler, your data is stored in SQL database. The data has to be retrieved and imported into R for wrangling.</p> <ol> <li> <p>Launch <code>SQL_Get_CP_Data.R</code></p> <ol> <li>Found on the github in folder <code>R_scripts</code></li> </ol> </li> <li> <p>Scroll all the way down</p> </li> <li> <p>Change server data:</p> <ol> <li>Dbname = <code>[name of your database]</code> (determined earlier)</li> <li>Host = <code>localhost</code></li> <li>Port = 3306 (probably, check in SQL workbench)</li> <li>User = your SQL username</li> <li>Password = <code>your SQL password</code></li> </ol> </li> <li> <p>Change path to your experiment folder</p> </li> <li> <p>Change filename to something relevant</p> </li> <li> <p>Run the full script</p> </li> <li> <p>When you have extracted all your data \u2192 delete your database using <code>DROP DATABASE databaseName;</code> in mySQL workbench</p> </li> <li> <p>Start wrangling your data!</p> </li> </ol> <p>Data Extraction</p> <p>You can pull your data from the database at any point during the analysis. It does not have to be finished to do some preliminary checks.</p>"},{"location":"microscopes/","title":"Microscopes","text":"<p>The Cell Observatory houses state-of-the-art microscopes for various imaging applications. They are located at different locations at the university and hosted by different institutes.</p> <p> Browse by Category  Explore microscope database</p> \u00d7 Type: Confocal Electron Microscope Lightsheet Other Stereo Widefield Institute: IBL LACDR LIC LUMC Name Institute Type Location Applications Andor DragonFly 200 LUMC Confocal S-01-017 N/A Andor DragonFly 500 LUMC Confocal S-01-017 N/A Andor Dragonfly LIC Confocal GW 2.30 N/A EVOS 1 LIC Widefield GW 2.02 N/A EVOS 2 LIC Widefield GW 2.18 N/A ImageXpress HT.ai LACDR Confocal Live-cell, Brightfield, High-Content ImageXpress Micro Confocal LUMC Confocal S-01-042 High-Content IncuCyte S3 LUMC Widefield R-02-011 N/A Incucyte LACDR Widefield Live-cell, High-Content, Fluorescence JEOL SEM 7600 IBL Electron Microscope S6.5.34 Fixed, Super-resolution JEOL TEM 1400+ IBL Electron Microscope GW 2.24a Fixed, Super-resolution LEICA DM6000 (VAST) IBL Confocal GW2.28 Live-cell, Fixed, Fluorescence, Brightfield Leica AF6000 LUMC Widefield S-01-017 N/A Leica DM6B 1 LUMC Widefield S-01-017 N/A Leica DM6B 2 LUMC Widefield S-01-017 N/A Leica M205 FA (1) IBL Stereo GW2.28 Live-cell, Fixed, Fluorescence, Brightfield Leica M205 FA (2) IBL Stereo GW2.28 Live-cell, Fixed, Fluorescence, Brightfield Leica M65 Stereo LUMC Stereo S-01-017 N/A Leica SP8 IBL Confocal GW 2.30a Live-cell, Fixed, Fluorescence, Brightfield Leica SP8 WLL 1 LUMC Confocal S-01-017 N/A Leica SP8 WLL 2 LUMC Confocal S-01-017 N/A Leica SP8 upright LUMC Confocal S-01-017 N/A Leica Stellaris 5 IBL Confocal GW 2.28a Live-cell, Fixed, Fluorescence, Brightfield Leica Stellaris 8 Confocal with WLL LIC Confocal GW 2.18 N/A Leica TCS SPE IBL Confocal GW 2.30a Live-cell, Fixed, Fluorescence, Brightfield Miltenyi UltraMicroscope Blaze LUMC Lightsheet S-01-042 N/A Nanolive LACDR Other Labelfree Nikon 3 LACDR Confocal GW.2.30 Live-cell, Fast Nikon 4 LACDR Confocal GW.2.24 Live-cell, Fixed, Hypoxia Nikon 5 LACDR Confocal High-Content Nikon 7 LACDR Confocal High-Content Nikon A1 Confocal with 3D STORM LIC Confocal GW 2.18 N/A Nikon AX IBL Confocal S6.5.32 Live-cell, Fixed, FRAP, Brightfield, Fluorescence Nikon TI-2 (Nikon 2) LACDR Confocal GW.2.26a Fixed, Live-cell Thermo CellInsight CX7 LZR LUMC Confocal R-04-008 N/A Thermo CellOmics LUMC Widefield R-04-008 N/A Zeiss 1 LACDR Widefield N/A Zeiss Airyscan 900 IBL Confocal S6.5.32 Live-cell, FRAP, Airyscan, Super-resolution, Brightfield, Fluorescence Zeiss Axio Imager M2 LUMC Widefield R-90-029 N/A Zeiss Axio Scan.Z1 LUMC Other S-01-042 N/A Zeiss Axioscan 7 slide scanner LIC Other GW 2.17 N/A Zeiss Axioscope A1 IBL Widefield S6.5.31a Live-cell, Fixed, Fluorescence, Brightfield Zeiss Imager M2 (DIC) IBL Widefield S6.5.35 Live-cell, Fixed, Fluorescence, Brightfield Zeiss LSM900 Airyscan 2 LUMC Confocal S-01-017 N/A Zeiss LSM980 Airyscan 2 NIR LUMC Confocal S-01-017 N/A Zeiss Observer WF - sylvius IBL Widefield S6.5.31a Live-cell, Fixed, Fluorescence, Brightfield Zeiss V8 (stereo light) IBL Stereo S6.5.31a Live-cell, Fixed, Brightfield Zeiss Zoomv16 IBL Stereo S6.5.31b Live-cell, Fixed, Fluorescence, Brightfield Zeiss observer WF - RM IBL Widefield GW2.17 Live-cell, Fixed, Fluorescence, Brightfield"},{"location":"microscopes/iblmicroscopes/","title":"IBL Microscopes","text":"<p>The IBL Microscopy Unit houses, maintains and coordinates most of the microscopy equipment of the IBL. The available equipment ranges from conventional light and fluorescence microscopes, to confocal laser scanning and electron microscopes. In addition, infrastructure is available for histology, including embedding, sectioning and staining. We offer support in automated image analysis for microscopy data. The equipment is housed at two locations: on the 6th floor of the Sylvius building and at the Cell Observatory in the Gorlaeus Laboratory.</p> <p>Rules and Regulations The Microscopy Unit is open for all students, PhD students, researchers of the IBL as well as guest workers. However, the equipment can only be used after appropriate introduction and/or training. Please contact Bas Laan or Joost Willemse for an introduction on the equipment before starting experiments. It is not allowed to use any equipment before being properly trained.</p> <p>Booking of equipment is done via Supersaas, for access to the microscopes you need to register. </p> <p>Furthermore if you have questions about experimental set up feel free to walk into our office to discuss which type of microscopy, histology or image analysis you need. If a microscope malfunctions during operation or you are not sure how to use it properly, contact Bas Laan or Joost Willemse immediately.</p>"},{"location":"microscopes/iblmicroscopes/#confocal-microscopes","title":"Confocal Microscopes","text":""},{"location":"microscopes/iblmicroscopes/#zeiss-airyscan-900","title":"Zeiss Airyscan 900","text":"<ul> <li>Location: Sylvius, Rm. 6.5.32  </li> <li>Specifications:  <ul> <li>Inverted confocal laser scanning microscope  </li> <li>Temperature-controlled incubation  </li> <li>Automated stage control  </li> <li>Three fluorescence detector channels  </li> <li>One transmitted light channel  </li> <li>Laser lines: 405, 488, 543, and 633 nm  </li> </ul> </li> <li>Book Confocal </li> <li>View Instructions</li> <li>Bekijk instructies </li> </ul>"},{"location":"microscopes/iblmicroscopes/#nikon-ax","title":"Nikon AX","text":"<ul> <li>Location: Sylvius, Rm. 6.5.32  </li> <li>Specifications:  <ul> <li>Upright confocal laser scanning microscope  </li> <li>Two detector channels for fluorescence  </li> <li>One transmitted light channel  </li> <li>Laser lines: 405, 458, 488, 514, 561, and 640 nm  </li> </ul> </li> <li>Book Confocal </li> <li>Bekijk instructies </li> </ul>"},{"location":"microscopes/iblmicroscopes/#leica-tcs-spe","title":"Leica TCS SPE","text":"<ul> <li>Location: Cell Observatory GW 2.30a  </li> <li>Specifications:  <ul> <li>Inverted confocal laser scanning microscope  </li> <li>One spectral detector channel for fluorescence  </li> <li>One transmitted light channel  </li> <li>Laser lines: 488, 532, and 633 nm  </li> </ul> </li> <li>Book Confocal</li> <li>View instructions </li> <li>Bekijk instructies </li> </ul>"},{"location":"microscopes/iblmicroscopes/#leica-sp8","title":"Leica SP8","text":"<ul> <li>Location: Cell Observatory GW 2.30a  </li> <li>Specifications:  <ul> <li>Inverted confocal laser scanning microscope  </li> <li>Three spectral detector channels (2 PMT, one GASP)  </li> <li>One transmitted light channel  </li> <li>Laser lines: 405, 488, 532, and 633 nm  </li> </ul> </li> <li>Book Confocal </li> <li>View Instructions</li> <li>Bekijk instructies</li> </ul>"},{"location":"microscopes/iblmicroscopes/#leica-stellaris-5","title":"Leica Stellaris 5","text":"<ul> <li>Location: Cell Observatory GW 2.28  </li> <li>Specifications:  <ul> <li>Inverted confocal laser scanning microscope  </li> <li>Three spectral detector channels for fluorescence (all GASPs)  </li> <li>One transmitted light channel  </li> <li>Laser lines: 405, 488, 532, and 633 nm  </li> </ul> </li> <li>Book Confocal</li> <li>View Instructions</li> <li>Bekijk instructies</li> </ul>"},{"location":"microscopes/iblmicroscopes/#electron-microscopes","title":"Electron Microscopes","text":""},{"location":"microscopes/iblmicroscopes/#jeol-sem-7600","title":"JEOL SEM 7600","text":"<ul> <li>Location: Sylvius, Rm. 6.5.34  </li> <li>Specifications:  <ul> <li>Conventional high vacuum scanning electron microscope equipped with digital imaging  </li> <li>Cryo-unit for freezing, coating and imaging of samples  </li> <li>EDS for elemental analysis  </li> </ul> </li> <li>Book SEM </li> <li>Manual</li> </ul>"},{"location":"microscopes/iblmicroscopes/#jeol-tem-1400","title":"JEOL TEM 1400+","text":"<ul> <li>Location: Cell Observatory GW2.24a  </li> <li>Specifications:  <ul> <li>120 kV transmission electron microscope  </li> </ul> </li> <li>Book TEM</li> <li>Manual</li> </ul>"},{"location":"microscopes/iblmicroscopes/#fluorescence-compound-microscopes","title":"Fluorescence Compound Microscopes","text":""},{"location":"microscopes/iblmicroscopes/#zeiss-observer","title":"Zeiss Observer","text":"<ul> <li>Location: Sylvius, Rm. 6.5.31a  </li> <li>Features:  <ul> <li>Widefield fluorescence with Colibri system  </li> <li>DAPI, GFP, and mCherry filters  </li> <li>Automated stage  </li> <li>Hamamatsu EMCCD  </li> <li>Multi-well imaging capability  </li> </ul> </li> <li>Book Observer </li> <li>Imaging Guide </li> </ul>"},{"location":"microscopes/iblmicroscopes/#zeiss-axioscope-a1","title":"Zeiss Axioscope A1","text":"<ul> <li>Location: Sylvius, Rm. 6.5.31a  </li> <li>Features:  <ul> <li>Widefield fluorescence with Colibri system  </li> <li>DAPI, GFP, and mCherry filters  </li> </ul> </li> <li>Book Widefield</li> <li>Manual</li> </ul>"},{"location":"microscopes/iblmicroscopes/#zeiss-imager-m2-dic","title":"Zeiss Imager M2 (DIC)","text":"<ul> <li>Location: Sylvius, Rm. 6.5.35  </li> <li>Features:  <ul> <li>Upright fluorescence microscope  </li> <li>DIC optics  </li> <li>Zeiss AxioCam MRc 5 digital color camera  </li> <li>Filter blocks for DAPI, CFP, GFP, YFP, mCherry, DIC  </li> <li>Custom filter options available (consult Bas or Joost)  </li> </ul> </li> <li>Book Widefield </li> </ul>"},{"location":"microscopes/iblmicroscopes/#leica-dm6000-vast","title":"LEICA DM6000 (VAST)","text":"<ul> <li>Location: Cell Observatory GW2.28  </li> <li>Specifications:  <ul> <li>Leica SL confocal CTR 6000  </li> <li>DFC 450C camera  </li> <li>VAST BioImager + LP Sampler (Union Biometrica)  </li> <li>Laser lines:  <ul> <li>Ar: 457, 488, 515 nm  </li> <li>HeNe: 543, 633 nm  </li> </ul> </li> </ul> </li> <li>Book VAST</li> </ul>"},{"location":"microscopes/iblmicroscopes/#stereo-fluorescencelight-microscopes","title":"Stereo Fluorescence/Light Microscopes","text":""},{"location":"microscopes/iblmicroscopes/#zeiss-axiozoom-v16","title":"Zeiss Axiozoom  V16","text":"<ul> <li>Location: Sylvius, Rm. 6.5.31b  </li> <li>Capabilities:  <ul> <li>Stereo fluorescence microscope  </li> <li>Automated focus, zoom, and stage control  </li> <li>Digital color camera  </li> <li>Multiple filters (GFP, DSR, YFP, CFP, CY5, Alexa 405)  </li> <li>Automated stage and incubation options  </li> </ul> </li> <li>Book Stereo Sylvius </li> </ul>"},{"location":"microscopes/iblmicroscopes/#leica-m205-fa-2","title":"LEICA M205 FA (2)","text":"<ul> <li>Location: Cell Observatory GW2.28  </li> <li>Capabilities:  <ul> <li>Stereo fluorescence microscope  </li> <li>Multiple filters (GFP, DSR, YFP, CFP, CY5, Alexa 405)  </li> <li>Leica DFC 345FX camera  </li> </ul> </li> <li>Book Stereo Gorlaeus</li> </ul>"},{"location":"microscopes/iblmicroscopes/#zeiss-v8","title":"Zeiss V8","text":"<ul> <li>Location: Sylvius, Rm. 6.5.31a  </li> <li>Capabilities:  <ul> <li>Stereo light microscope  </li> <li>Manual focus and zoom control  </li> <li>Bresser digital color camera  </li> </ul> </li> <li>Book Stereo Sylvius</li> </ul>"},{"location":"microscopes/info/","title":"General Information","text":""},{"location":"microscopes/info/#training","title":"Training","text":"<p>Due to the level of advanced knowledge needed to operate the microscopes in the Cell observatory safely and correctly training is needed. Please contact the facility staff for training options. Or consider joining the yearly PhD course on microscopy.</p>"},{"location":"microscopes/info/#fees","title":"Fees","text":"<p>For usage of equipment there can be a charge for the maintenance and operating costs. Please contact the facility staff to know which charges apply.</p>"},{"location":"microscopes/info/#lumc-light-microscopy-facility","title":"LUMC Light Microscopy Facility","text":"<p>Microscopes at LUMC are also available for university employees, but usage is charged via an hour tariff. For questions you can reach out to <code>lightmicroscopy@lumc.nl</code>. Here you can find an overview of microscopes and filters.</p>"},{"location":"microscopes/info/#choosing-a-microscope","title":"Choosing a Microscope","text":"<p>Consider these factors when selecting a microscope:</p> <ul> <li>Sample type and preparation</li> <li>Required resolution</li> <li>Fluorescence vs. transmitted light</li> <li>Live-cell imaging requirements</li> <li>Speed requirements</li> <li>Sample sensitivity</li> </ul> <p>Please contact the facility staff for guidance on selecting the most appropriate system for your experiments.</p>"},{"location":"microscopes/lacdrmicroscopes/","title":"LACDR microscopes","text":"<ul> <li>Nikon 2</li> <li>Nikon 3</li> <li>Nikon 4</li> </ul>"},{"location":"microscopes/lacdrmicroscopes/#nikon-2","title":"Nikon 2","text":"<p>Location: GW.2.26a  </p> <p>Nikon 2 is a fully automated inverted confocal microscope best suited for fixed fluorescent samples and small duration live cell imaging (e.g 24 hour timelapse).</p>"},{"location":"microscopes/lacdrmicroscopes/#hardware","title":"Hardware","text":"<p>Microscope model: Inverted Nikon Ti eclipse Stage: Nikon, encoded Confocal scanner modalities: Nikon A1 Galvano, single and bidirectional. Incubation: Custom made incubator with temperature and CO2 control Detectors: four PMTs</p>"},{"location":"microscopes/lacdrmicroscopes/#lasers-and-filters","title":"Lasers and filters","text":"<p>Laser lines: 405nm, 488nm. 561nm, 640nm Filters available: 450/50, 482/35, 525/50, 540/30, 515/30, 595/50, 585/65, 700/75</p>"},{"location":"microscopes/lacdrmicroscopes/#softwareautomation","title":"Software/Automation","text":"<p>Software: NiS elements 5.02.03 Automation: Jobs &amp; ND acquisition GA version: (TBD)</p>"},{"location":"microscopes/lacdrmicroscopes/#nikon-3","title":"Nikon 3","text":"<p>Location: GW.2.30 Nikon 3 is a fully automated inverted confocal microscope capable of fast imaging (up to 30fps in resonant mode) and fast Z-stacking due to the Piezo electric stage insert. The additional transmission detection can be used to take pseudo brightfield images. It also has more sensitive detectors for the green and red channels (channels 2 and 3). Also capable for longer live cell imaging sessions (up to 3 days)</p>"},{"location":"microscopes/lacdrmicroscopes/#hardware_1","title":"Hardware","text":"<p>Microscope model: Inverted Nikon Ti eclipse Stage: Nikon, encoded with MCL nano drive Piezo insert Confocal scanner modalities: Nikon A1R MP Galvano and resonant, single and bidirectional. Incubation: OKO lab incubator with temperature and CO2 control settings Detectors: Channel 1 and 4: PMT, channels 2 and 3: GaAsP. 1 transmission detector</p>"},{"location":"microscopes/lacdrmicroscopes/#lasers-and-filters_1","title":"Lasers and filters","text":"<p>Laser lines: 405nm, 488nm. 561nm, 640nm Filters available: 450/50, 482/35, 450/50 Ircut, 525/50, 540/30, 515/30, 585/50, 585/65, 700/75</p>"},{"location":"microscopes/lacdrmicroscopes/#softwareautomation_1","title":"Software/Automation","text":"<p>Software: NiS elements 4.5 Automation: Jobs &amp; ND acquisition GA version: GA1</p>"},{"location":"microscopes/lacdrmicroscopes/#nikon-4","title":"Nikon 4","text":"<p>Location: GW.2.24 Nikon 4 is a fully automated inverted confocal microscope, the tuneable detector provides flexibility on the detection bandwidth albeit at the cost of overall imaging speed. The OKO lab incubator provides O2 control allowing for hypoxic conditions and it is well suited for longer timelapse experiments (up to three days).</p>"},{"location":"microscopes/lacdrmicroscopes/#hardware_2","title":"Hardware","text":"<p>Microscope model: Inverted Nikon Ti2 eclipse Stage: Nikon, encoded. Confocal scanner modalities: Nikon C2Si Galvano single and bidirectional. Incubation: OKO lab incubator with temperature and CO2 control and O2 settings for hypoxic conditions. Detectors: Channel 1 GaAsP spectral, Channel 2 GaAsP fluorescence</p>"},{"location":"microscopes/lacdrmicroscopes/#lasers-and-filters_2","title":"Lasers and filters","text":"<p>Laser lines: 405nm, 488nm. 561nm, 640nm Filters available: The C2Si has a single tuneable detector for fluorescence allowing for effectively any bandwidth filter from 400nm to 720nm.</p>"},{"location":"microscopes/lacdrmicroscopes/#softwareautomation_2","title":"Software/Automation","text":"<p>Software: NiS elements 5.11.03 Automation: Jobs &amp; ND acquisition GA version: (TBD)</p>"},{"location":"microscopes/licmicroscopes/","title":"LIC Microscopes","text":"<p>This page provides an overview of all microscopes available at the Leiden Institute of Chemistry (LIC).</p>"},{"location":"microscopes/licmicroscopes/#microscope-overview","title":"Microscope Overview","text":"Microscope Type Room Owner Responsible Objectives LED/Lasers Detectors Motorised XY Motorised Z Incubation T Incubation CO2 Widefield microscopes EVOS 1 GW 2.02 LIC Patrick 4x, 10x, 20x, 40x BLUE, GREEN, RED - \u2713 \u2713 \u2713 \u2713 EVOS 2 GW 2.18 LIC Patrick 4x, 10x, 20x, 40x BLUE, GREEN, RED - \u2713 \u2713 \u2713 \u2713 Confocal microscopes Nikon A1 Confocal Microscope with 3D STORM GW 2.18 Mario van der Stelt, Sander van Kasteren Amit 10x, 20x, 40XSil, 100xOil 405, 445, 488, 561, 647 2xPMT, 2xGASP, sCMOS (for TIRF/STORM), RGB Cam (for TIRF/STORM) \u2713 \u2713 \u2713 \u2713 Leica Stellaris 8 Confocal with WLL GW 2.18 Kim Bonger Amit 10x, 25xW, 40x, 60xOil 405, 440-800 (WLL) 2x HyD \u2713 \u2713 \u2713 \u2713 Andor Dragonfly GW 2.30 Alexander Kros Amit 10x, 20x, 25W, 40W 405, 488, 561, 640, 780 2x sCMOS \u2713 \u2713 \u2713 \u2713 Zeiss Axioscan 7 slide scanner GW 2.17 Mario van der Stelt Amit 5x, 10x, 20x, 40x 385, 430, 475, 555, 630, 735 1x RGB, 1x Monochrome \u2713 \u2713 - -"},{"location":"microscopes/licmicroscopes/#booking-and-access","title":"Booking and Access","text":"<p>If you want access to the microscopes, please contact the responsible person for the possibilities, or reach out to Amit Cherian (a.cherian@lic.leidenuniv.nl) for general inquiries.</p>"},{"location":"microscopes/tiles/","title":"Microscope tiles","text":""},{"location":"microscopes/tiles/#confocals","title":"Confocals","text":""},{"location":"microscopes/tiles/#widefield","title":"Widefield","text":""},{"location":"microscopes/tiles/#others","title":"Others","text":""},{"location":"microscopes/widefield-observer/","title":"Widefield Observer","text":""},{"location":"microscopes/widefield-observer/#multi-well-imaging-setup","title":"Multi-well Imaging Setup","text":"<p>This guide covers the setup process for multi-well imaging using the Zeiss Observer microscope with Zen-blue software.</p>"},{"location":"microscopes/widefield-observer/#initial-setup","title":"Initial Setup","text":"<ol> <li>Launch Zen-blue software</li> <li>Calibrate the stage</li> <li>Navigate to acquisition tab</li> <li>Activate the tiles module</li> </ol>"},{"location":"microscopes/widefield-observer/#sample-carrier-configuration","title":"Sample Carrier Configuration","text":"<ol> <li>In the tiles menu, select \"Sample Carrier\"</li> <li>Choose your desired carrier type</li> <li>Use Smart Setup to configure imaging conditions <p>At least one channel must be set up for carrier calibration     </p> </li> </ol>"},{"location":"microscopes/widefield-observer/#calibration-process","title":"Calibration Process","text":"<ol> <li> <p>Stage Calibration    - Option to calibrate using transmitted light (recommended)    - Choose between re-calibrating or continuing with existing calibration</p> </li> <li> <p>Calibration Points    - Select calibration method (7 points recommended)    - Position points with high accuracy    - More points generally yield better results</p> </li> </ol>"},{"location":"microscopes/widefield-observer/#advanced-setup","title":"Advanced Setup","text":""},{"location":"microscopes/widefield-observer/#region-setup-options","title":"Region Setup Options","text":"<ol> <li> <p>Contour Method    - Draw regions manually for imaging</p> </li> <li> <p>Predefined Method    - Click on slide to add region    - Use plus button to add setup region</p> </li> <li> <p>Carrier Method    - Set fill factor for coverage    - Configure columns/rows for custom layout    - Click create to generate tile regions</p> </li> </ol>"},{"location":"microscopes/widefield-observer/#position-setup-options","title":"Position Setup Options","text":"<ol> <li> <p>Location Method    - Manual point placement    - Click to add specific points</p> </li> <li> <p>Array Method    - Add multiple points in random or grid pattern    - Draw regions to define point distribution area</p> </li> <li> <p>Carrier Method    - Add regions (columns/rows) in each well</p> </li> </ol>"},{"location":"microscopes/widefield-observer/#focus-settings","title":"Focus Settings","text":"<ol> <li>Access Support Point Editor (circle with dot icon above calibrate button)</li> <li>Add support points for focus shift:    - Manual addition via plus button    - Add one per container    - Set row/column distribution</li> <li>Adjust point positions as needed</li> </ol>"},{"location":"microscopes/widefield-observer/#final-steps","title":"Final Steps","text":"<ol> <li>Verify all tile regions</li> <li>Review support point positions</li> <li>Confirm settings before starting acquisition</li> </ol> <p>For optimal results, carefully verify focus points and tile regions before starting a long acquisition sequence.</p>"},{"location":"microscopes/widefield-observer/#best-practices","title":"Best Practices","text":"<ol> <li>Use transmitted light for initial calibration when possible</li> <li>Add sufficient support points to maintain focus across the sample</li> <li>Verify all settings before starting long acquisitions</li> <li>Consider sample characteristics when choosing imaging regions</li> </ol>"},{"location":"omero/","title":"OMERO","text":"<p>OMERO (Open Microscopy Environment Remote Objects) is the primary platform for microscopy data management, storage, and sharing at Leiden University.  OMERO can be accessed at https://omero.services.universiteitleiden.nl/ from within the Leiden University network.   Almost all our microscopes are connected to OMERO for data storage. This wiki provides an overview of OMERO features and best practices for working with microscopy data.   By maintaining your image data in an organized way in OMERO, it will help you to easily access and share your data.  By using OMERO to organize the imaging data together with experimental and imaging metadata you will increase the FAIRness of your data.</p>"},{"location":"omero/#omero-administrators","title":"OMERO Administrators","text":"<p>Contact any of the following administrators for registration and OMERO-related questions:</p> <ul> <li>Joost Willemse (IBL)</li> <li>Sylvia Le D\u00e9v\u00e9dec (LACDR)</li> <li>Amit Cherian (LIC)</li> <li>Maarten Paul (LACDR)</li> </ul>"},{"location":"omero/#omero-features","title":"OMERO features","text":"<ul> <li>Backed up image data storage</li> <li>Metadata management</li> <li>Image viewing</li> <li>Easy data sharing</li> <li>Figure generation</li> <li>API access for automated workflows</li> </ul>"},{"location":"omero/#getting-started","title":"Getting Started","text":"<ol> <li>Account setup - Set up your account and learn the basics</li> <li>Importing Data - Learn how to upload your microscopy data</li> <li>Downloading Data - Access your data from OMERO</li> <li>Figure Creation - Generate figures for publication</li> <li>Analysis in OMERO - Use OMERO data for image analysis </li> </ol>"},{"location":"omero/analysis/","title":"Image Analysis with OMERO","text":"<p>There are different ways you can work with data in OMERO. </p> <ul> <li>Fiji</li> <li>Python</li> <li>CellProfiler</li> <li>R</li> <li>QuPath</li> </ul>"},{"location":"omero/downloading/","title":"Downloading and Exporting Data","text":"<p>This page describes how to download and export data from OMERO. When uploading data to OMERO the original files are always stored on the server, so if neccesary these can be retrieved if neccesary.</p> <p>Downloading a lot of data</p> <p>If you would like to download a large amount of data from OMERO, e.g. for data sharing for a publication. Please reach out to the OMERO admins. We can help using a script to export the data more efficiently.</p>"},{"location":"omero/downloading/#omeroweb-downloads","title":"OMERO.web Downloads","text":"<p>Export Formats</p> <p>With OMERO you can export in different formats   Standard Formats   - Original Format: Exact copy of the uploaded file   - OME-TIFF: Standard microscopy format with OME metadata   - JPEG/PNG: Only for presentations/publications   - TIFF: Original pixel data, can be used for image analysis</p>"},{"location":"omero/downloading/#quick-downloads","title":"Quick Downloads","text":"<p>Access downloads through the OMERO web interface:</p> <ol> <li>Locate your data</li> <li>Click the download button at the right panel</li> <li>Choose export format:    - <code>Download...</code> Original files    - <code>Download Original Metadata</code> Download original metadata only    - <code>OME-TIFF format</code>    - <code>JPEG</code> format    - <code>PNG</code> format    - <code>TIFF</code> format</li> </ol> <p></p> <p>Web Browser Timeout Limitation</p> <p>Connections via the web browser automatically disconnect after 1 minute (60s), so often you won't be able to download large files. For larger datasets, use OMERO.insight instead.  </p>"},{"location":"omero/downloading/#omeroinsight-downloads","title":"OMERO.insight Downloads","text":""},{"location":"omero/downloading/#large-dataset-downloads","title":"Large Dataset Downloads","text":"<ol> <li>Launch and log into OMERO.insight  </li> <li>Navigate to your dataset  </li> <li>Click the download button </li> <li>Select export format </li> </ol> <p>Downloads proceed in the background - no progress bar is shown, but the process remains active.</p>"},{"location":"omero/downloading/#fiji-downloads","title":"Fiji Downloads","text":"<p>Alternatively you can use the OMERO Fiji plugin for downloading data. You can find more information here</p>"},{"location":"omero/figure-creation/","title":"OMERO.figure","text":"<p>A very helpful feature of OMERO is the ability to generate figure panels of your images directly from the web interface. It is possible to:      </p> <ul> <li>add labels to the images in your figure, based on the metadata stored in OMERO.   </li> <li>add scale bars, and assure consistent image display settings across all images in your figure.   </li> <li>export figures as high-quality PNG or PDF files. It is possible to include the original images and a reference to the image data in OMERO.   </li> </ul> <p>Recommended Resources</p> <ul> <li>A user manual on OMERO.figure: https://omero-guides.readthedocs.io/en/latest/figure/docs/omero_figure.html </li> <li>An extensive tutorial on OMERO.figure: https://downloads.openmicroscopy.org/help/pdfs/figure.pdf</li> <li>You can also watch this video tutorials on how to build figures on the official OMERO website https://www.openmicroscopy.org/omero/figure/ </li> </ul>"},{"location":"omero/figure-creation/#directly-exporting-a-figure-from-omeroweb","title":"Directly exporting a figure from OMERO.web","text":"<p>Apart from OMERO.figure, you can also create simple figures directly from the OMERO.web interface. This is a quick way to generate figures of your images or wells.</p> <ol> <li>Select the dataset or plate where you are interested in and click on one or multiple wells or images images.</li> <li>Click on the publication options button (figure 1).</li> <li>Now you will get three options: Split View figure (1), Thumbnail figure (2) and Make Movie (3, only when you have time series). The split view figure will create a split view (figure 2) of the selected well(s), the thumbnail will create an small image (or set of images of your plate) and the movie makes a movie.</li> <li>Choose the option you would like and follow the steps in the menu. Once the figure/movie is ready, you can download it or show it in the browser by clicking on the [Activities] button and choose one of the options.</li> </ol> <p></p> <p>Figure 1. You can find the publishing button at the button with 6 small rectangles.</p> <p></p> <p>Figure 2. Output of the split view figure option. Here you see the different channels and a merged channel with the colors indicating the corresponding channel.</p>"},{"location":"omero/getting-started/","title":"Getting Started with OMERO","text":""},{"location":"omero/getting-started/#registration-process","title":"Registration Process","text":"<p>To access OMERO, you need to be approved in the ULCN system. Please follow these steps:</p> <ol> <li>Fill in the registration form </li> <li>Wait for approval from an OMERO admin</li> <li>Complete your first login (see below)</li> </ol> <p>OMERO Groups</p> <p>After your account is set up, you'll be able to see all data in your assigned group. Contact a OMERO admin if you need access to additional groups.</p>"},{"location":"omero/getting-started/#first-time-login","title":"First Time Login","text":"<p>Important: Login must be done within the university network</p> <ol> <li>Visit the OMERO Web Portal</li> </ol> <p></p> <ol> <li>Login using your ULCN credentials</li> <li>Logout after successful login</li> <li>Inform your admin that you've completed the first login</li> <li> Wait for confirmation that you've been assigned to the correct group before importing any data</li> </ol> <p></p>"},{"location":"omero/getting-started/#remote-access","title":"Remote Access","text":"<p>OMERO is only accessible from within the Leiden University network. When outside the network or when using wifi via EduRoam you will need to use EduVPN to access Leiden University OMERO.   - Set up EduVPN for a secure connection, then you are able to access OMERO directly from your laptop or PC.</p>"},{"location":"omero/getting-started/#omeroinsight-installation","title":"OMERO.insight Installation","text":"<p>For uploading data from your computer or downloading larger datasets, you'll need OMERO.insight:</p> <ol> <li>Download OMERO.insight</li> <li> <p>Request installation:</p> <ul> <li>Submit a software request, or</li> <li>Request a Admin by request account</li> </ul> </li> </ol>"},{"location":"omero/getting-started/#configuring-omeroinsight","title":"Configuring OMERO.insight","text":"<ol> <li>Start OMERO.insight</li> </ol> <ol> <li>Click the tool icon</li> </ol> <ol> <li>Add the Leiden server:    - Press the + sign    - Enter server address: <code>omero.services.universiteitleiden.nl</code>    - Click Apply</li> </ol> <ol> <li>Login using your ULCN credentials</li> <li>Now continue with importing images or downloading data from OMERO</li> </ol>"},{"location":"omero/importing/","title":"Importing Data into OMERO","text":"<p>This section covers the general procedures for importing data into OMERO at the Leiden Cell Observatory. OMERO allows to organize our imaging data in a structured way. This makes the data findable and accessible for your research group. To make this possible, the data needs to be uploaded in a structured way and need to include the correct metadata. If you are not sure how to approach this, please contact the OMERO admins or the data steward at your institute for help.</p>"},{"location":"omero/importing/#overview","title":"Overview","text":"<p>OMERO.insight is the primary tool for importing data. This client is:</p> <ul> <li>Pre-installed on all microscope PC's</li> <li>Available for download on computers (Windows, Mac, Linux): https://www.openmicroscopy.org/omero/downloads</li> <li>Check here how to upload specific file-types.</li> </ul>"},{"location":"omero/importing/#basic-import-workflow","title":"Basic Import Workflow","text":"<ol> <li> <p>Prepare Your Data</p> <ul> <li>To make data accessible to others, use a consistent naming convention of your <code>Project</code> and <code>Dataset</code> names.</li> <li> <p>It is advised to organize your data according to the ISA model, which is a standard for organizing and sharing scientific data. This model organizes data in a hierarchical structure, which is similar to the way we organize our data in OMERO. The ISA model consists of three main components:</p> <ul> <li>Investigation: An overarching description of the research project, this can be a consortium with multiple collaborators</li> <li>Study: A specific research question within the investigation</li> <li>Assay: A specific assay or analysis within the study</li> </ul> </li> </ul> <p> </p> <p>The ISA data model (adapted from Sansone et al. (2012)) </p> <ul> <li>Try to match the structure of your data in OMERO with the organization of your experiments in your Electronic Lab Journal (RSpace).</li> <li>Prepare any metadata you want to include at the time of import.</li> </ul> </li> <li> <p>Launch OMERO.insight</p> <ul> <li>Connect to the server: <code>omero.services.universiteitleiden.nl</code></li> <li>Login with ULCN credentials</li> <li>Navigate to your Group/project space</li> </ul> </li> <li> <p>Import Process</p> <ul> <li>Use <code>File &gt; Import</code> or the import icon</li> <li>Select the files for import</li> <li>Choose or create projects/datasets or Screens/Plates</li> <li>Use the omero.mde plugin to add metadata</li> <li>Add any additional tags or annotations</li> <li>Review and start import</li> </ul> </li> </ol>"},{"location":"omero/importing/#data-organization","title":"Data Organization","text":""},{"location":"omero/importing/#project-structure","title":"Project Structure","text":"<p>OMERO uses a two-level organization system: - Projects (top level) - Datasets (within projects)  </p> <p>Organize Datasets within Projects; avoid storing Datasets outside Projects</p> <p><pre><code>\u2705 Recommended Structure:\nProject 1 (ISA: Study)\n\u251c\u2500\u2500 Dataset 1 (ISA: Assay 1)\n\u2502   \u2514\u2500\u2500 image 1, etc.\n\u2514\u2500\u2500 Dataset 2 ((ISA: Assay 2)\n    \u2514\u2500\u2500 image 1, etc.\n\n\u274c\n\u251cDataset 1 (ISA: Assay 1)\n\u2502\u2514\u2500\u2500 image 1, etc.\n\u2514Dataset 2 (ISA: Assay 1)\n \u2514\u2500\u2500 image 1, etc.\n</code></pre> To include the ISA:Investigation in the OMERO structure you should annotate the Project with metadata. This can be done with the omero.mde plugin.</p> <p>For (High-content) imaging screens OMERO offers:  - Screens (top level) - Plates (within screens)  </p> <p>Planning Your Import</p> <p>Before starting a large import:</p> <ol> <li>Plan your project/dataset structure</li> <li>Prepare experimental metadata at time of import</li> <li>Consider file type specific requirements</li> </ol>"},{"location":"omero/importing/#next-steps","title":"Next Steps","text":"<ul> <li>For importing specific file types, see Microscope Files</li> <li>For high-content screening data, check HCS Data</li> <li>To add metadata, refer to Metadata Annotations</li> </ul>"},{"location":"omero/analysis/analysis_cellprofiler/","title":"CellProfiler analysis with OMERO","text":"<p>In old versions of CellProfiler (Version 2) it was possible to directly work with images from OMERO in CellProfiler, but this is no longer available.   In future versions of CellProfiler a better integration with OMERO is planned. In the meantime, there are the following workflows to work with OMERO data in CellProfiler.</p> <ol> <li>Create a file with OMERO image IDs. This can be loaded into CellProfiler. See this discussion on image.sc for more information. And this documentation from cellprofiler https://cellprofiler-manual.s3.amazonaws.com/CPmanual/Help_Other%20Features_Accessing_Images_From_OMERO.html</li> </ol> <p>For example: <pre><code>omero:iid=58134\nomero:iid=58135\nomero:iid=58136\n</code></pre></p> <p>Or if your channels are in separeted OMERO images: <pre><code>URL_DNA,URL_GFP\nomero:iid=58134,omero:iid=58038\nomero:iid=58135,omero:iid=58039\nomero:iid=58136,omero:iid=58040\n</code></pre></p> <p>Then use <code>File&gt;Import&gt;File List...</code> to load the file into CellProfiler. If you have multi channel images you can use the <code>NamesAndTypes</code> module to extract metadata using <code>ChannelName</code> . See this instructions from the CellProfiler documentation.   </p> <p>Note</p> <p>Using OMERO URLs with the Input modules  The Images module has a file list panel of all of the image files in a project. This file list supports URLs including OMERO URLs. You can drag URLs from a text document and drop them into the file list. The URLs do not end with image file extensions (like .TIF), so you need to change the \"Filter images?\" setting to \"No filtering\" to allow the OMERO URLs to be processed further. You should be able to view the image by double-clicking on it and you should be able to extract plate, well, site and channel name metadata from each image using the \"Extract from image file headers\" method in the Metadata module (press the \"Update Metadata\" button after selecting the \"Extract from image file headers\" method). If your experiment has more than one image channel, you can use the \"ChannelName\" metadata extracted from the OMERO image to create image sets containing all of your image channels. In the NamesAndTypes module, change the \"Assign a name to\" setting to \"Images matching rules\". For the rule criteria, select \"Metadata does have ChannelName matching\" and enter the name that appears under \"Channels\" in the OMERO Insight browser. Add additional channels to NamesAndTypes using the \"Add another image\" button.</p> <p>Limitations: - It won't work well for 3D images. You need separate files for each channel on OMERO.</p> <ol> <li>Running CellProfiler from within a Jupyter notebook. You can have a look at this guide.</li> <li>Manually export images from OMERO. You can make use of the Fiji/Java or Python API of OMERO to automatically organize the files.</li> </ol>"},{"location":"omero/analysis/analysis_cellprofiler/#uploading-cellprofiler-results-to-omero","title":"Uploading CellProfiler results to OMERO","text":"<p>It can be useful to store the output of your CellProfiler analysis in OMERO. In this way you keep the results of your analysis together with the original data. Alternatively you can add a annotation to the dataset in OMERO with a reference where the results are stored. </p>"},{"location":"omero/analysis/analysis_fiji/","title":"Fiji","text":""},{"location":"omero/analysis/analysis_fiji/#fiji-image-analysis-for-omero","title":"Fiji image analysis for OMERO","text":"<p>While an official OMERO plugin for Fiji exists, which allows to load images from OMERO directly in Fiji and upload results and ROIs back to OMERO, at Leiden University we have our own developed plugin, which allows to directly run developed Fiji scripts/plugins on images in OMERO.</p> <p>By following the steps below, you can install the required plugins and run your analysis on images in Fiji.</p>"},{"location":"omero/analysis/analysis_fiji/#installation-steps","title":"Installation Steps","text":"<ol> <li>Install Fiji</li> <li>Update Fiji and ensure all plugins are up to date (Help &gt; Update)  <ul> <li>If you get errors, repeat the update (the updater might need multiple attempts)  </li> <li>After seeing \"Updated successfully. Please restart ImageJ!\" message, restart Fiji  </li> </ul> </li> </ol> <ol> <li>After restarting, update again and click \"Manage Update Sites\"</li> </ol> <ol> <li>Enable these required sites:  <ul> <li>Fiji legacy</li> <li>3D Image suite</li> <li>ImageScience</li> <li>Leiden University</li> <li>PTBIOP</li> </ul> </li> </ol> <ol> <li>Click Close and Apply Changes</li> <li>Restart Fiji</li> <li>Install the Simple OMERO Client:  <ul> <li>Download from GitHub releases </li> <li>Place in Fiji's plugins folder  </li> <li>Restart Fiji  </li> </ul> </li> </ol>"},{"location":"omero/analysis/analysis_fiji/#analysis-methods","title":"Analysis Methods","text":""},{"location":"omero/analysis/analysis_fiji/#manual-single-image-analysis","title":"Manual Single Image Analysis","text":"<ol> <li> <p>Open OMERO connection:  </p> <ul> <li>Go to Plugins &gt; OMERO &gt; Connect to OMERO  </li> <li>Login with ULCN credentials  </li> <li>OMERO.insight connected to Fiji will open  </li> </ul> </li> <li> <p>Access your image:  </p> <ul> <li>Locate image in left sidebar or thumbnails  </li> <li>Double-click to open  </li> </ul> </li> <li> <p>Configure BioFormats Import: </p> <ul> <li>Adjust settings as needed</li> <li>Click OK</li> <li>Wait for loading (may take several minutes, no progress bar visible)</li> </ul> </li> </ol>"},{"location":"omero/analysis/analysis_fiji/#dataset-analysis","title":"Dataset Analysis","text":""},{"location":"omero/analysis/analysis_fiji/#manual-dataset-analysis","title":"Manual Dataset Analysis","text":"<ol> <li> <p>Launch dataset opener:    - Go to Plugins &gt; LeidenUniv &gt; OMERO &gt; Open OMERO dataset    - Enter login credentials:    </p> </li> <li> <p>Select dataset:     - Choose group, user, project, and dataset    - Click OK</p> </li> <li> <p>Monitor progress:     - Watch log window for loading progress</p> </li> <li> <p>Analyze your data creating either:    Resultstables    ROIs    Images</p> </li> <li> <p>Upload results to OMERO via Plugins&gt;Omero&gt;    Save results to OMERO    Save Rois to OMERO    Save Image(s) to OMERO   </p> </li> </ol>"},{"location":"omero/analysis/analysis_fiji/#automated-dataset-analysis","title":"Automated Dataset Analysis","text":"<ol> <li> <p>Start automated analysis:  </p> <ul> <li>Go to Plugins &gt; LeidenUniv &gt; OMERO &gt; Run OMERO plugin  </li> <li>Enter login credentials:    </li> </ul> </li> <li> <p>Choose Plugin to run: </p> </li> <li> <p>Select dataset: </p> </li> <li> <p>Optionally set plugin parameters</p> </li> <li> <p>View results after the plugin finishes:  </p> <ul> <li>Results attach to image/dataset automatically </li> </ul> </li> </ol> <p>Info</p> <p>If you need a plugin that isn't available, contact Joost Willemse for assistance.</p>"},{"location":"omero/analysis/analysis_fiji/#exporting-data","title":"Exporting Data","text":""},{"location":"omero/analysis/analysis_fiji/#quick-downloads","title":"Quick Downloads","text":"<ul> <li>Use download button (yellow) on OMERO web interface: </li> <li>Choose export format: </li> </ul>"},{"location":"omero/analysis/analysis_fiji/#large-dataset-downloads","title":"Large Dataset Downloads","text":"<ol> <li> <p>In OMERO.insight:</p> <ul> <li>Navigate to your dataset</li> <li>Click download button </li> </ul> </li> <li> <p>Select export format:     </p> <ul> <li>Download proceeds in background</li> </ul> </li> </ol>"},{"location":"omero/analysis/analysis_fiji/#server-scripts","title":"Server Scripts","text":"<p>Access server scripts through the web interface: </p> <p>For new script development, contact Joost Willemse.</p>"},{"location":"omero/analysis/analysis_fiji/#important-notes","title":"Important Notes","text":"<ul> <li>Server is optimized for storage, not computation</li> <li>Scripts may take significant time to process</li> <li>All scripts must be tested on test-server first</li> <li>DO NOT develop or test scripts without admin consultation</li> </ul>"},{"location":"omero/analysis/analysis_python/","title":"Python with OMERO","text":"<p>With Python you can interact with OMERO extensively. It is possible to upload data, annotations and ROIs. It is also possible to obtain image data directly as an (e.g. numpy) array so you can do your analysis with the data directly.</p> <p>For working with OMERO you need to install the OMERO Python API packages.</p>"},{"location":"omero/analysis/analysis_python/#installation","title":"Installation","text":"<p>omero-py - official Python bindings for OMERO</p> <p>ezomero - an additional package with convenience functions for working with OMERO in Python</p> <p>Communication with OMERO via Python requires the OMERO Ice package. Compiling those from scratch can be difficult hence binaries are available for different operating systems and Python versions: https://www.glencoesoftware.com/blog/2023/12/08/ice-binaries-for-omero.html . Alternatively it is installable via conda instead of pip.</p> <p>Create a new virtual or conda environment and install the required packages. </p>"},{"location":"omero/analysis/analysis_python/#condapip","title":"Conda/pip","text":"<pre><code>conda create -n omero python=3.10\npip install https://github.com/glencoesoftware/zeroc-ice-py-win-x86_64/releases/download/20240325/zeroc_ice-3.6.5-cp310-cp310-win_amd64.whl\npip install ezomero\n</code></pre>"},{"location":"omero/analysis/analysis_python/#pixi","title":"Pixi","text":"<p>Pixi is a alternative package manager from conda with some useful features. First you need to install pixi, find the instructions here.</p> <p><pre><code>#create a folder where pixi will run from\nmkdir omero_python\ncd omero_python\npixi init\npixi add python=3.10\npixi add zeroc-ice\npixi add omero-py\npixi add --pypi ezomero\n</code></pre> This will install the required packages for your system. Now you can run a command in your pixi enviroment with <code>pixi run</code> e.g. <code>pixi run python</code>. Or you can create a shell with <code>pixi shell</code> .</p>"},{"location":"omero/analysis/analysis_python/#notebooks","title":"Notebooks","text":"<p>You can for example use Jupyter notebooks to work with OMERO data. Example notebooks that show how you can interact with OMERO can be found here: https://github.com/Leiden-Cell-Observatory/omero_ipynb And from the OMERO website: https://omero-guides.readthedocs.io/en/latest/cellprofiler/docs/cellprofiler.html#</p>"},{"location":"omero/analysis/analysis_r/","title":"R Analysis with OMERO","text":"<p>A library (romero.gateway) to connect R with OMERO exists, however it has limited functionality, and it is rather outdated, compared to the Python or Fiji libraries.</p> <p>A better alternative is to use the Python API/ezomero in Rstudio. </p>"},{"location":"omero/analysis/analysis_r/#reticulateezomero","title":"Reticulate/ezomero","text":"<p>The reticulate package makes it easy to run Python in R(studio) and directly work with Python objects inside R scripts. This makes it possible to use the ezomero package in R.  An script and Rmarkdown document showcasing how it can used to work with tables, images, annotations and attachments. It can be found on the Leiden Cell Observatory github: https://github.com/Leiden-Cell-Observatory/OMERO_scripts/tree/main/R</p>"},{"location":"omero/analysis/analysis_r/#romerogateway","title":"romero.gateway","text":"<p>This is the official r-omero package. You can find more information how to install it in Rstudio: https://omero-guides.readthedocs.io/en/latest/r/docs/rstudio.html </p> <p>More detailed explanations including example notebooks can be found here: https://omero-guides.readthedocs.io/en/latest/r/docs/r_walkthrough.html</p>"},{"location":"omero/analysis/scripts/","title":"OMERO.scripts","text":"<p>OMERO scripts allows to modify, organize your image data directly on OMERO. These scripts are run from OMERO.web.</p> <p>[]</p> <p>In the menu you can find both the official scripts provided by OMERO (folder <code>omero</code>) and custom scripts from Leiden University (folder <code>user</code>).</p>"},{"location":"omero/analysis/scripts/#official-omeroscripts","title":"Official OMERO.scripts","text":"<p>The official documentation can be found at omero-scripts.readthedocs.io</p> AnalysisAnnotationExportFigureImportUtilityUser <p>The annotation scripts can be useful for organizing image metadata by Key-Pair values on OMERO. A walktrough of how to use the different scripts can be found here.   </p> <p>[]   </p>"},{"location":"omero/analysis/scripts/#kymograph","title":"Kymograph","text":"<p>Processes images with Line or PolyLine ROIs to create kymograph images showing spatial-temporal dynamics. Creates new OMERO images where each line ROI is transformed into a horizontal visualization of changes over time.</p>"},{"location":"omero/analysis/scripts/#kymograph-analysis","title":"Kymograph Analysis","text":"<p>Analyzes lines drawn on kymograph images previously created by the Kymograph script. Designed as a follow-up analysis tool to extract quantitative measurements from kymograph visualizations.</p>"},{"location":"omero/analysis/scripts/#plot-profile","title":"Plot Profile","text":"<p>Extracts intensity profiles from images with Line or PolyLine ROIs and exports the data to CSV files. Measures pixel intensities along defined lines across selected channels and attaches results to the original images.</p>"},{"location":"omero/analysis/scripts/#convert-keyval-namespace","title":"Convert KeyVal namespace","text":"<p>Converts the namespace of key-value pair annotations on OMERO objects. Can update existing annotations to a new namespace or merge multiple namespaces into one, with options to preserve or remove original annotations. Namespaces are used to group annotations. By default annotations added via OMERO.web end up in <code>openmicroscopy.org/omero/client/mapAnnotation</code>, but if you need more organization using namespaces is a good idea. This script can help with that.</p>"},{"location":"omero/analysis/scripts/#export-to-csv","title":"Export to CSV","text":"<p>Exports metadata (key-value pairs, tags, and ancestry information) from images, datasets, or projects to a CSV file. The generated CSV is attached to the source object for download. It is possible to modify the metadata in the CSV file and import again.</p>"},{"location":"omero/analysis/scripts/#import-from-csv","title":"Import from CSV","text":"<p>Imports key-value pairs and tags from a CSV file to annotate OMERO objects. Matches CSV rows to objects by name or ID, and can create new tags if needed.</p>"},{"location":"omero/analysis/scripts/#remove-keyval","title":"Remove KeyVal","text":"<p>Removes all key-value pair annotations associated with specified namespaces from OMERO objects. Can target specific namespaces or remove all annotations using wildcard ('*').</p>"},{"location":"omero/analysis/scripts/#batch-image-export","title":"Batch Image Export","text":"<p>Exports individual image planes (by channel, Z-slice, and timepoint) from multiple images and packages them in a ZIP file for download. Supports various formats (PNG, TIFF, OME-TIFF) with options for projection, grayscale, and zoom.</p>"},{"location":"omero/analysis/scripts/#batch-roi-export","title":"Batch ROI Export","text":"<p>Exports ROI intensity measurements and coordinates from selected images to a CSV file. Captures shape geometry (length, area) and pixel intensities for all ROIs, with physical dimension calculations.</p>"},{"location":"omero/analysis/scripts/#movie-roi-figure","title":"Movie ROI Figure","text":"<p>Creates a figure showing zoomed regions defined by ROIs from multiple images, displayed as a movie sequence. Shows split-channel views and merged images for each ROI region across time points, with adjustable zoom and column layout.</p>"},{"location":"omero/analysis/scripts/#figure-to-pdf","title":"Figure to Pdf","text":"<p>Script used by OMERO.figure to convert a figure to a PDF. Here can be manually used to convert a JSON describing the figure to a PDF.   </p>"},{"location":"omero/analysis/scripts/#populate-metadata","title":"Populate Metadata","text":"<p>Processes a CSV file to populate an OMERO.table with metadata, creating one row per Image, Well, or ROI. The table data is then displayed in OMERO clients for easy viewing and filtering. Supports the omero-metadata CSV format specification.  </p> <p>Warning</p> <p>This script uses an outdated metadata plugin, might not work as expected.</p>"},{"location":"omero/analysis/scripts/#channel-offsets","title":"Channel Offsets","text":"<p>Creates new images from existing images by applying independent X, Y, and Z shifts to each channel. Useful for correcting chromatic aberration or channel misalignment in multi-channel images.</p>"},{"location":"omero/analysis/scripts/#combine-images","title":"Combine Images","text":"<p>Merges multiple images or Z-stacks to create new dimensions (C, T, or Z). Assembles separate images into a single multi-dimensional image with customizable organization and optional color mapping for channels.</p>"},{"location":"omero/analysis/scripts/#dataset-to-plate","title":"Dataset To Plate","text":"<p>Converts a Dataset of images into a Plate format, placing one image per well at specified row and column positions. Useful for organizing images into high-content screening plate layouts.</p>"},{"location":"omero/analysis/scripts/#images-from-rois","title":"Images From ROIs","text":"<p>Extracts regions defined by rectangular ROIs from images and creates new images from those regions. Can generate either Z-stacks (one tile per ROI) or full 5D images cropped to ROI dimensions.</p>"},{"location":"omero/analysis/scripts/#move-annotations","title":"Move Annotations","text":"<p>Moves annotations (tags, key-value pairs, comments) from images to their parent wells. Useful for organizing plate-based data by consolidating image-level annotations at the well level, with options to remove original annotations.</p>"},{"location":"omero/analysis/scripts/#dataset-to-plate-choose-start-position","title":"Dataset to Plate Choose Start position","text":"<p>This script is a modification from the <code>Dataset To Plate</code> script. It allows you to define a start position (i.e. you did not use the top rows or columns of you plate).</p>"},{"location":"omero/importing/hcs-data/","title":"High-Content Screening (HCS) Data","text":"<p>Properly uploading plate data to OMERO will depend on the microscope data format of your data. OMERO does not always recognizes the mapping of the wells correctly if there are any empty wells on your plate. This includes the edge wells, which is for our imaging set-up almost always the case.  Thus, some pre-processing of the images is required. For correctly importing plate data and screens into OMERO it is advised to do this first time together with somebody experienced.</p> <p> Example of an plate in OMERO</p>"},{"location":"omero/importing/hcs-data/#hcs-data-structure","title":"HCS Data Structure","text":"<p>OMERO handles the hierarchical organization of HCS data in the following way: <pre><code>Screen\n\u2514\u2500\u2500 Plate\n     |\n     Run(s)\n     \u2514\u2500\u2500 Well\n        \u2514\u2500\u2500 Field\n             \u2514\u2500\u2500 Image (with channels and/or timepoints)\n</code></pre></p>"},{"location":"omero/importing/hcs-data/#file-formats","title":"File Formats","text":""},{"location":"omero/importing/hcs-data/#pre-processing-of-nikon-data","title":"Pre-processing of Nikon data","text":"<ol> <li>Open the ND2-file on the microscope PCs or on the Nis-elements analysis computer.   </li> <li>Go to <code>File &gt; Import/Export ND document &gt; Split multipoints</code>.   </li> <li>Write down a descriptive prefix (be as specific as possible) and select a folder where you want to store the nd2 documents. Click on <code>[Split]</code>.   </li> <li>Now you should have a ND2 file for every well (and if multiple sites were imaged, every wellsite). This is something the OMERO system does recognize.   </li> <li>Continue now at \"uploading the images\". Subsequently you can convert the images to a plate using one of the OMERO scripts .</li> </ol>"},{"location":"omero/importing/hcs-data/#pre-processing-of-imagexpress-data","title":"Pre-processing of ImageXpress data","text":"<p>At the ImageXpress do NOT copy the TIF-files and thumbs directly from the database. Instead, export the images from the MetaXpress database in the software.</p> <p>Exporting the images from the MetaXpress database will generate an additional <code>.HTD</code> file, which contains the metadata of the images (including which images belong to a plate, which is recognized by the string at the end of each image filename).</p> <ol> <li>In the Imagexpress software at the top menu press <code>Screening -&gt; Plate Utilities</code></li> <li>Select <code>Export images</code></li> <li>Choose your project and export to the hard drive.</li> </ol> <p></p> <p>4)  Continue now at \"uploading the images\". In the OMERO.insight software you only need to select the <code>.HTD</code> file.</p> <p>Always export</p> <p>Plates/screens that are copied directly from the database in the ImageExpress without export will not be recognized by the OMERO system. This can be fixed by manually create a .HTD file defining the plate layout. However, this approach is not recommended!</p>"},{"location":"omero/importing/hcs-data/#conversion-from-dataset-to-plate","title":"Conversion from Dataset to Plate","text":"<p>Whereas in some instances the data is directly imported as a plate, for some file formats this has to be done manually after importing.</p> <p>You can use a OMERO script for this which are available in the OMERO.web interface at the right top (gear icon). The basic script is available via:</p> <p><code>OMERO scripts -&gt; util_scripts -&gt; Dataset to Plate</code></p> <p>First select your data set, then load the script, than the parameters depending how your plate has been imaged (from left ot right, top to bottom, etc.). </p> <p></p> <p>When you have not started imaging at well A1, or when you have imaged bi-directional you can use the alternative scripts:</p> <p><code>OMERO scripts -&gt; util_scripts -&gt; Dataset to Plate Choose Start position</code>    - Here you can define a start position from where you have started imaging.</p> <p><code>OMERO scripts -&gt; util_scripts -&gt; Dataset to Plate Start direction</code>   - This script allows for bidirectional conversion when you have imaged in a zigzag pattern.</p> <p>Different Imaging Patterns</p> <p>When you have imaged in a different patterns, e.g. there is not an equal number of images per well reach out to the facility for help. There are ways to upload data via a (Python) script which can handle more complicated situations. Please reach out if you need help.</p>"},{"location":"omero/importing/imagexpress-ai/","title":"Importing ImageXpress HCS.ai Data to OMERO","text":"<p>Data from the ImageXpress HT.ai is saved in the <code>.JDCE</code> file format. This is a relatively new format and is not directly supported for upload to OMERO using OMERO.insight (as OMERO.insight uses an older version of bioformats).</p> <p>This page explains how to convert and upload data from the ImageXpress HT.ai to OMERO.</p> <p>Warning After converting images to a format suitable for OMERO, you will not be able to open them with InCarta software (that is the image analysis software provided by the vendor of the ImageXpress). Always keep the original files if you may need to analyze data with InCarta in the future.</p>"},{"location":"omero/importing/imagexpress-ai/#converting-files-to-ome-tiff","title":"Converting Files to OME-TIFF","text":"<p>To easiest way to upload your data to OMERO is to convert the images to the OME-TIFF format. This can be done using the NGFF-converter, which preserves most metadata from the original files.</p>"},{"location":"omero/importing/imagexpress-ai/#step-by-step-instructions","title":"Step-by-step Instructions","text":"<ol> <li> <p>Locate your <code>.JDCE</code> file</p> <ul> <li>Go to the folder containing your ImageXpress data.</li> <li>Each experiment may have several folders, such as <code>experiment</code>, <code>experiment_z_stack</code>, and <code>experiment_montage</code>, each with its own <code>.JDCE</code> file.</li> <li>If you acquired z-stacks, <code>experiment_z_stack</code> contains the original z-stack, <code>experiment</code> contains maximum intensity projections, and <code>experiment_montage</code> contains stitched images.</li> </ul> </li> <li> <p>Open NGFF-Converter</p> <ul> <li>Launch the NGFF-Converter application. This application is installed on the image analysis workstation next to the ImageXpress.</li> <li>Drag your <code>.JDCE</code> file into the application window. You will see a popup. </li> </ul> </li> <li> <p>Select Output Format</p> <ul> <li>Choose OME-TIFF as the output format and press OK.</li> </ul> </li> <li> <p>(Optional) Split Large Datasets</p> <ul> <li>By default, data is saved as a single OME-TIFF file. For large datasets, this file can become very large and hard to handle.</li> <li>To split the OME-TIFF file per field-of-view:</li> <li>Press the Settings button next to your file in the main window.</li> <li>Use the right arrow on top of the popup to select TIFF</li> <li>Click Advanced Settings.   </li> <li>Toggle Split Series on.</li> <li>Click Apply.</li> </ul> </li> <li> <p>Run the Conversion</p> <ul> <li>Press Run and wait for the conversion to finish. By default the converted files will be saved in the same folder.</li> </ul> </li> </ol>"},{"location":"omero/importing/imagexpress-ai/#upload-to-omero","title":"Upload to OMERO","text":"<ol> <li>Upload with OMERO.insight<ul> <li>Open OMERO.insight.</li> <li>Look for the <code>*.companion.ome</code> file generated by the converter. Select this file to upload. You do not need to select all the other OME-TIFF files.</li> <li>In OMERO.insight, create a new screen with your desired name and upload the data.  </li> </ul> </li> </ol>"},{"location":"omero/importing/metadata/","title":"Metadata annotations","text":"<p>By providing metadata annotations to your imaging data.</p>"},{"location":"omero/importing/metadata/#types-of-metadata","title":"Types of Metadata","text":"<p>OMERO supports several types of metadata annotations:  </p> <ul> <li>Tags  </li> <li>Key-value pairs  </li> <li>Comments  </li> <li>Files (attachments)</li> <li>ROIs  </li> </ul>"},{"location":"omero/importing/metadata/#adding-metadata-during-import","title":"Adding Metadata During Import","text":"<p>Using OMERO.insight experimental metadata can be added during the import of your data.</p>"},{"location":"omero/importing/metadata/#setting-up-omero-insight-for-metadata-annotations","title":"Setting up OMERO insight for metadata annotations","text":"<p>First you need to load a OMERO mde configuration file. This file contains the metadata templates that are used to annotate your data. The configuration file is a XML file that contains the metadata templates and their properties.</p> <ol> <li>Save the OMERO mde configuration file in the \"Users\\\\$User\\OMERO\" folder, save it as mdeConfiguration.xml</li> </ol> <p>You can find the file here: mdeConfiguration.xml</p> <ol> <li> <p>Use OMERO insight as normal to import data.</p> </li> <li> <p>[Do NOT press import yet]</p> </li> <li> <p>Press the MDE button next to import.</p> </li> </ol> <p></p> <ol> <li>At the left bottom of the screen select the right metadata model you want to use</li> </ol> <p></p> <ol> <li> <p>Use MiBMe (Minimal Biological Metadata), of MiHCSMe (Minimal High Content Screening Metadata) for HCS experiments.</p> </li> <li> <p>Fill in all the data (first time only) or next time load your data via</p> </li> </ol> <p></p> <ol> <li>Your file should now look something like this:</li> </ol> <p></p> <ol> <li>If you want to re-use the input, save the file locally for re-use . Preferably save it with your experiments, or attach it to the OMERO project. </li> </ol> <p></p> <ol> <li> <p>Now proceed to import your images</p> </li> <li> <p>The metadata is stored with your images and searchable in OMERO via the searchbar on the right top of the browser</p> </li> </ol> <p></p>"},{"location":"omero/importing/metadata/#attaching-metadata-template-to-your-images","title":"Attaching metadata template to your images","text":"<p>The current recommendation is to attach metadata template to your images in OMERO. Items to add are the metadata template (mandatory), library files (if applicable) and the plate layouts. At the right side of the screen you can add those items.</p> <p>Add the attachments to the file using the attachment section (green box). This includes the metadata template in xlsx format and all additional files.</p> <p></p> <p>Overview of screen where you can describe the data that is in a plate and add the attachments.</p>"},{"location":"omero/importing/microscope-files/","title":"Microscope File Formats","text":"<p>Preferably upload your microscopy data in its original file format to OMERO. This ensures that all image acquisition metadata and dimensions are preserved.  Below you can find guidelines for importing common microscopy file types of our microscopes.</p> <p>Questions?</p> <p>If you are still running into problems with uploading your data, or when you are not sure how to do it properly, please reach out to one of the OMERO admins for help or drop your question in the OMERO issues Teams channel.</p>"},{"location":"omero/importing/microscope-files/#supported-file-types","title":"Supported File Types","text":"<p>OMERO supports most common microscopy formats including:</p> <ul> <li>Nikon <code>.nd2</code></li> <li>Zeiss <code>.lsm</code> and <code>.czi</code></li> <li>Leica <code>.lif</code></li> <li>Imaris  <code>.ics</code> e.g. from the Dragon Spinning disc confocal</li> <li>ImageXpress <code>.jdce</code> and <code>.htd</code></li> <li>(OME)-TIFF files</li> <li>And many more through Bio-Formats</li> <li>Tiff files EVOS microscope - Some exported datasets from the EVOS microscope give issues when importing into OMERO. Please reach out so we can help you to resolve the issue.</li> <li>Incucyte archive(s) - These files cannot imported into OMERO directly. If you like to import incycyte data into OMERO files need to be converted. We have developed a converter in Python which allows conversion of Incucyte archives in to OME-TIFF or OME-ZARR. You can find more information via the following link, but feel free to ask for help. NL-Bioimaging/biomero-converter</li> </ul>"},{"location":"omero/importing/microscope-files/#import-guidelines","title":"Import Guidelines","text":""},{"location":"omero/importing/microscope-files/#nikon-nd2-files","title":"Nikon ND2 Files","text":"<p>Nikon files can be uploaded directly using OMERO.insight, however when dealing in high-content screening data, it is recommended to split the ND2 files into individual wells before uploading, otherwise you might loose the information from which well the images were . You can find the details how to work with ND2 files in the HCS Data Structure guide.</p>"},{"location":"omero/importing/microscope-files/#zeiss-files","title":"Zeiss Files","text":"<p>Zeiss .CZI and .LSM (old Zeiss microscope format) can be uploaded directly to OMERO.</p>"},{"location":"omero/importing/microscope-files/#leica-lif-files","title":"Leica LIF Files","text":"<p>Leica .lif files can be uploaded directly to OMERO. LIF files containing multiple microscope images are splitted as separated OMERO images automatically.</p>"},{"location":"omero/importing/microscope-files/#imaris-ics","title":"Imaris ICS","text":"<p>These files can be uploaded directly via OMERO.insight. Often you will get multiple OMERO images at different 'resolution-levels' in OMERO. Make sure to keep the highest (original) resolution images, you can remove the low resolution images if you don't need them. </p>"},{"location":"omero/importing/microscope-files/#imagexpress-jdce","title":"ImageXpress .JDCE","text":"<p>Data from the new ImageXpress HT.ai cannot be imported directly via OMERO.insight. One solution is to first convert the data to OME-TIFF before importing to OMERO. If you do so using the NGFF Converter metadata will be properly handled.</p>"},{"location":"omero/importing/microscope-files/#imagexpress-htd","title":"ImageXpress .HTD","text":"<p>Data from the now deprecated ImageXpress microscope are stored in a database at the microscope. For proper importing to OMERO into plate format the data needs to be exported from the database. Check the instructions here.</p>"},{"location":"omero/importing/microscope-files/#tiff-series","title":"TIFF Series","text":"<ul> <li>Keep sequential naming intact</li> <li>Avoid uploading TIFF files with separate channels as they won't be combined automatically in OMERO</li> <li>Include any companion metadata files</li> </ul>"},{"location":"omero/importing/microscope-files/#after-import","title":"After Import","text":"<ul> <li>Verify all dimensions imported correctly</li> <li>Check channel settings</li> <li>Confirm metadata transferred properly</li> <li>Convert images to a plate if needed</li> </ul>"},{"location":"omero/importing/mihcsme/","title":"HCS metadata","text":""},{"location":"omero/importing/mihcsme/#hcs-metadata","title":"HCS metadata","text":""},{"location":"omero/importing/mihcsme/#minimal-information-for-high-content-screening-in-microscopy-experiments-mihcsme","title":"Minimal Information for High Content Screening in Microscopy Experiments (MIHCSME)","text":"<p>For HCS experiments we use the MIHCSME metadata template. This Excel template allows to describe your screen at different levels (Study, Assay, and per Plate and Well). </p> <p>The template can be found at this repository, with some filled-in examples.</p> <p>For reference the templates are originally published here here: https://fairdomhub.org/investigations/575</p>"},{"location":"omero/importing/mihcsme/#adding-metadata-templates-to-omero","title":"Adding Metadata templates to OMERO","text":""},{"location":"omero/importing/mihcsme/#attaching-a-description-metadata-and-quantified-results-to-your-images","title":"Attaching a description, metadata and quantified results to your images","text":"<p>The current recommendation is to attach metadata template to your Screen in OMERO. Make sure to convert your data in OMERO into Plates and Screens first.  Then attach the template as an attachement to your screen. When you update the template you can create a new version of the template and add a version number (_v2, v2,1, v3 etc,).  It is possible to add more files such as a library file to the Screen as well.</p> <p>2)  Add the (mandatory) attachments to the file using the attachment section (green box). This includes the metadata template in pdf format and all additional files.</p> <p></p> <p>Overview of screen where you can describe the data that is in a plate and add the attachments.</p>"},{"location":"publishing/","title":"Publishing","text":"<p>This section provides guidelines and resources for publishing your microscopy data and analysis.</p>"},{"location":"publishing/#publishing-guidelines","title":"Publishing Guidelines","text":"<ul> <li>Data Repositories - Information on where to publish your microscopy data</li> <li>Writing Methods - Templates and guidelines for writing microscopy methods sections</li> <li>Citing - How to properly cite microscopy equipment and software</li> </ul>"},{"location":"publishing/#best-practices","title":"Best Practices","text":""},{"location":"publishing/#data-presentation","title":"Data Presentation","text":"<ul> <li>Include scale bars in all microscopy images</li> <li>Clearly state any image processing steps</li> <li>Provide relevant imaging parameters</li> <li>Use consistent display settings within figure panels</li> </ul>"},{"location":"publishing/#data-availability","title":"Data Availability","text":"<ul> <li>Consider depositing raw data in public repositories</li> <li>Include analysis scripts and workflows</li> <li>Document software versions and parameters</li> <li>Link to protocols and detailed methods</li> </ul>"},{"location":"publishing/#reproducibility","title":"Reproducibility","text":"<ul> <li>Document all image acquisition parameters</li> <li>Provide detailed analysis workflows</li> <li>Include statistical methods and sample sizes</li> <li>Share code via GitHub or similar platforms</li> </ul>"},{"location":"publishing/citing/","title":"Citing the Cell Observatory","text":""},{"location":"publishing/citing/#acknowledgments-in-publications","title":"Acknowledgments in Publications","text":"<p>When publishing research that uses Cell Observatory facilities, proper acknowledgment is important. The format of acknowledgment depends on which equipment and resources were used.</p> <p>We support the \"Imaging Facility Guidelines for Acknowledgement\" </p>"},{"location":"publishing/citing/#basic-acknowledgment-text","title":"Basic Acknowledgment Text","text":"<p>For general use of the facility:</p> <p>\"Part of the work has been performed in the Leiden Cell Observatory (LCO), sponsored by [main grant info - to be added]\"</p>"},{"location":"publishing/citing/#equipment-specific-acknowledgments","title":"Equipment-Specific Acknowledgments","text":"<p>Add the following acknowledgments based on the specific equipment used:</p> If equipment used Add this acknowledgment [Microscope 1] [Grant/funding information] [Microscope 2] [Grant/funding information]"},{"location":"publishing/citing/#examples","title":"Examples","text":"<p>Here's how to combine multiple acknowledgments:</p> <pre><code>\"Part of the work has been performed in the Leiden Cell Observatory (LCO). The [specific microscope] was supported by [grant number]. Data management was facilitated through [infrastructure grant].\"\n</code></pre> <p>Info</p>"},{"location":"publishing/citing/#required-citations","title":"Required Citations","text":"<p>Always include:  1. The Cell Observatory facility acknowledgment  2. Specific equipment grants used   </p>"},{"location":"publishing/citing/#additional-requirements","title":"Additional Requirements","text":"<ul> <li>Include relevant grant numbers for specific equipment</li> <li>Include technical details of equipment used in methods section</li> </ul>"},{"location":"publishing/methods/","title":"Writing Methods for Microscopy Experiments","text":"<p>This section provides guidelines for writing methods sections in scientific publications for experiments performed at the Leiden Cell Observatory.</p>"},{"location":"publishing/methods/#microscopy-methods","title":"Microscopy Methods","text":""},{"location":"publishing/methods/#general-guidelines","title":"General Guidelines","text":"<p>Content to be added</p>"},{"location":"publishing/methods/#useful-resources","title":"Useful resources","text":"<p>Community-developed checklists for publishing images and image analyses</p> <p>Citation Reminder</p> <p>Remember to include appropriate citations as described in the Citations section.</p>"},{"location":"publishing/sharing_data/","title":"Sharing microscopy data","text":"<ul> <li> <p>When publishing your microscopy data, it is important to share the data in a way that allows others to access and reuse it. This often involves depositing the data in a public repository. The choice of repository depends on the type of microscopy data you have.</p> </li> <li> <p>We can advice and support you on how to prepare your imaging data and metadata for repository submission.   </p> </li> <li> <p>Ideally you already have your imaging data stored in OMERO. However, since the Leiden University OMERO is not accessible from the internet it is not possible to directly transfer the data to a public repository. Also, different repositories require different organization of the (meta)data. Please reach out to us so we can help you to get your imaging data in the right format.</p> </li> </ul>"},{"location":"publishing/sharing_data/#repositories","title":"Repositories","text":"BioImage Archive (BIA)Image Data Resource (IDR)Zenodo <p>The BioImage Archive accepts microscopy data from all different modalities. Submitting your imaging data requires adding metadata according to the REMBI standard.  </p> <p>More info:   - How to submit your data: https://www.ebi.ac.uk/bioimage-archive/submit/   - FAIR cookbook BIA submission Here you can find a detailed description of how to organize your imaging data and metadata for BIA submission.   - Quick Tour at BIA </p> <p>The Image Data Resource is a curated repository for complete microscopy data sets. The IDR is based on the OMERO platform and to thus allows to access published data easily. Normally imaging data set should by accompanied with a publication. The IDR allows you to assign a DOI to your data set.</p> <p>Since IDR is based on OMERO it might be possible to transfer data from OMERO to IDR directly. However, you will need to provide extensive metadata with your imaging data.</p> <p>Please check here: - https://idr.openmicroscopy.org/about/submission.html</p> <p>Zenodo is a general repository for scientific data that allows you to share any kind of data. Zenodo allows you to upload your data to the repository and to share it with others. Zenodo also allows you to publish your data and to assign a DOI to it.  </p> <p>Submission to Zenodo is free of charge, but normally it is limited to 50GB per dataset.</p> <ul> <li>https://help.zenodo.org/docs/deposit/</li> </ul> <p>Sharing scripts with reviewers</p> <p>If you don't want that your zenodo repository is published on Zenodo before your paper is accepted and published, but still want the reviewers to see the intended submission, there is way to do so.       1. First you create a draft version of your submission, which include all your files, without publishing it.        2. You can already request a DOI for the Zenodo submission to include in your paper. Later, upon publication your data can be found via this doi.        3. Then it is possible to create a public link to the draft so you can share this with the reviewers. The reviewers can see your submission through this link.    </p>"},{"location":"publishing/sharing_data/#sharing-your-image-analysis-code","title":"Sharing your image analysis code","text":"<p>Common practice is to maintain your image analysis scripts and other code in a version control system such as GitHub. This allows you to share your code with others and to keep track of changes you make to your code over time.    </p> <p>When publishing a paper that includes image analysis, it is a good idea to include a link to the code repository in the paper. This allows others to reproduce your analysis and to build on your work.    </p> <p>The Cell Observatory also has its own Github repository where you can share your code with others, see https://github.com/Leiden-Cell-Observatory/ . Please reach out if you would like to create a repository at the Cell Observatory Github.    </p> <p>It is worth to consider to create a release of the version of the code at time of publication and to assign a DOI to this version. This allows to refer to the exact version of the code that was used in the paper and to reproduce your results.    </p> <p>One way to get a DOI is to deposit your Github code at Zenodo. Zenodo will create a DOI for the code at time of deposition. This DOI can be included in the paper.    1. Login at Zenodo with your ORCID account   2. Connect Zenodo with your Github account   3. Enable the Zenodo Github integration for your repository   4. Create a release of your code in Github. This will automatically create a DOI for the code in Zenodo.    </p> <p>More information:   - https://guides.github.com/activities/citable-code/ </p>"}]}